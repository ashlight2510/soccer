<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>ìš°ë¦¬ ë‘˜ì˜ ì¡°í•©ì´ ë‚³ì„ ì¶•êµ¬ì„ ìˆ˜ëŠ”?</title>

    <!-- SEO meta -->
    <meta
      name="description"
      content="ë‚˜ì™€ ìƒëŒ€ë°©ì˜ ìƒì¼ì„ ì…ë ¥í•˜ë©´, ìš°ë¦¬ ë‘˜ì˜ ì¡°í•©ì´ ë‚³ì„ ì¶•êµ¬ì„ ìˆ˜ íƒ€ì…ì„ ëœë¤(í•˜ì§€ë§Œ ê·¸ëŸ´ë“¯í•˜ê²Œ) ë§¤ì¹­í•´ë“œë¦½ë‹ˆë‹¤. ê²°ê³¼ëŠ” ë°”ë¡œ ê³µìœ  ê°€ëŠ¥!"
    />
    <meta
      name="keywords"
      content="ì¶•êµ¬ í…ŒìŠ¤íŠ¸, ìƒì¼ ê¶í•©, ì¶•êµ¬ì„ ìˆ˜ íƒ€ì…, ëœë¤ í…ŒìŠ¤íŠ¸, ì»¤í”Œ í…ŒìŠ¤íŠ¸, ì¬ë¯¸ í…ŒìŠ¤íŠ¸, football dna"
    />
    <meta name="author" content="FunnyFunny" />
    <link rel="canonical" href="https://funnyfunny.cloud/" />

    <!-- OG / Twitter -->
    <meta property="og:title" content="ìš°ë¦¬ ë‘˜ì˜ ì¡°í•©ì´ ë‚³ì„ ì¶•êµ¬ì„ ìˆ˜ëŠ”?" />
    <meta
      property="og:description"
      content="ìƒì¼ 2ê°œë§Œ ì…ë ¥í•˜ë©´ ë. ìš°ë¦¬ ì¡°í•©ì—ì„œ íƒœì–´ë‚  ì¶•êµ¬ DNAë¥¼ ê³µê°œí•©ë‹ˆë‹¤ âš½"
    />
    <meta property="og:type" content="website" />
    <!-- âœ… ì‹¤ì œ ë™ì‘ ë”ë¯¸ ì´ë¯¸ì§€ -->
    <meta
      property="og:image"
      content="https://dummyimage.com/1200x630/1e293b/ffffff&text=Paulo+Dybala"
    />
    <meta property="og:image:alt" content="Our Football DNA Result" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="ìš°ë¦¬ ë‘˜ì˜ ì¡°í•©ì´ ë‚³ì„ ì¶•êµ¬ì„ ìˆ˜ëŠ”?" />
    <meta
      name="twitter:description"
      content="ìƒì¼ 2ê°œë§Œ ì…ë ¥í•˜ë©´ ë. ìš°ë¦¬ ì¡°í•©ì—ì„œ íƒœì–´ë‚  ì¶•êµ¬ DNAë¥¼ ê³µê°œí•©ë‹ˆë‹¤ âš½"
    />
    <meta
      name="twitter:image"
      content="https://dummyimage.com/1200x630/1e293b/ffffff&text=Paulo+Dybala"
    />

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/svg+xml"
      href="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%3E%3Ctext%20y='0.9em'%20font-size='90'%3E%E2%9A%BD%3C/text%3E%3C/svg%3E"
    />

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&family=Pretendard:wght@400;600;700&display=swap");
      :root {
        --bg0: #060712;
        --bg1: #0b1020;
        --card: #0f172a;
      }
      body {
        font-family: Pretendard, system-ui, -apple-system, Segoe UI, Roboto,
          sans-serif;
        background: radial-gradient(
            1200px 600px at 10% 0%,
            rgba(59, 130, 246, 0.25),
            transparent 60%
          ),
          radial-gradient(
            900px 500px at 90% 20%,
            rgba(34, 197, 94, 0.18),
            transparent 60%
          ),
          linear-gradient(180deg, var(--bg0), var(--bg1));
      }
      .glass {
        background: rgba(15, 23, 42, 0.62);
        border: 1px solid rgba(148, 163, 184, 0.18);
        backdrop-filter: blur(10px);
      }
      .shine {
        position: relative;
        overflow: hidden;
      }
      .shine::after {
        content: "";
        position: absolute;
        inset: -40%;
        background: linear-gradient(
          120deg,
          transparent 35%,
          rgba(255, 255, 255, 0.1) 50%,
          transparent 65%
        );
        transform: translateX(-30%);
        animation: sweep 3.8s infinite;
      }
      @keyframes sweep {
        0% {
          transform: translateX(-55%);
        }
        45% {
          transform: translateX(70%);
        }
        100% {
          transform: translateX(70%);
        }
      }
      .fade-in {
        animation: fade 0.28s ease-out both;
      }
      @keyframes fade {
        from {
          opacity: 0;
          transform: translateY(8px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>

  <body class="min-h-screen text-slate-100">
    <header class="max-w-5xl mx-auto px-4 pt-8 pb-4">
      <div class="flex items-start justify-between gap-3">
        <div>
          <p class="text-xs uppercase tracking-widest text-slate-300/70">
            Football DNA Simulator
          </p>
          <h1 class="text-3xl sm:text-4xl font-extrabold mt-2 leading-tight">
            ìš°ë¦¬ ë‘˜ì˜ ì¡°í•©ì´ ë‚³ì„
            <span
              class="text-transparent bg-clip-text bg-gradient-to-r from-sky-300 via-emerald-200 to-lime-200"
              >ì¶•êµ¬ì„ ìˆ˜</span
            >ëŠ”?
          </h1>
        </div>

        <!-- âœ… ê¸°ë³¸ í¬í•¨: ë‹¤ë¥¸ ì„œë¹„ìŠ¤ ë³´ê¸° -->
        <a
          href="https://funnyfunny.cloud/"
          target="_blank"
          rel="noopener noreferrer"
          class="shrink-0 inline-flex items-center gap-2 rounded-2xl px-4 py-3 glass hover:bg-white/10 transition"
        >
          <span class="text-lg">ğŸ§©</span>
          <span class="font-semibold">ë‹¤ë¥¸ ì„œë¹„ìŠ¤ ë³´ê¸°</span>
        </a>
      </div>
    </header>

    <main class="max-w-5xl mx-auto px-4 pb-10">
      <section class="grid grid-cols-1 lg:grid-cols-5 gap-5">
        <!-- Input Card -->
        <div class="lg:col-span-2 glass rounded-3xl p-5 sm:p-6">
          <div class="flex items-center justify-between">
            <h2 class="text-xl font-bold">ìƒì¼ ì…ë ¥</h2>
          </div>

          <div class="mt-5 space-y-4">
            <label class="block">
              <span class="text-sm text-slate-200/90">ë‚´ ìƒì¼</span>
              <input
                id="birthA"
                type="date"
                class="mt-2 w-full rounded-2xl px-4 py-3 bg-slate-950/60 border border-slate-700/40 focus:outline-none focus:ring-2 focus:ring-sky-400/60"
              />
            </label>

            <label class="block">
              <span class="text-sm text-slate-200/90">ìƒëŒ€ë°© ìƒì¼</span>
              <input
                id="birthB"
                type="date"
                class="mt-2 w-full rounded-2xl px-4 py-3 bg-slate-950/60 border border-slate-700/40 focus:outline-none focus:ring-2 focus:ring-emerald-400/60"
              />
            </label>

            <label class="block">
              <span class="text-sm text-slate-200/90">ê´€ê³„ íƒ€ì… (ì„ íƒ)</span>
              <div class="mt-2 grid grid-cols-2 gap-2">
                <button
                  type="button"
                  data-rel="ì—°ì¸"
                  class="relBtn rounded-2xl px-3 py-3 glass hover:bg-white/10 transition text-sm"
                >
                  ğŸ’ ì—°ì¸
                </button>
                <button
                  type="button"
                  data-rel="ì¸"
                  class="relBtn rounded-2xl px-3 py-3 glass hover:bg-white/10 transition text-sm"
                >
                  ğŸ˜¶â€ğŸŒ«ï¸ ì¸
                </button>
                <button
                  type="button"
                  data-rel="ë¶€ë¶€"
                  class="relBtn rounded-2xl px-3 py-3 glass hover:bg-white/10 transition text-sm"
                >
                  ğŸ’ ë¶€ë¶€
                </button>
                <button
                  type="button"
                  data-rel="ê·¸ëƒ¥ ê¶ê¸ˆ"
                  class="relBtn rounded-2xl px-3 py-3 glass hover:bg-white/10 transition text-sm"
                >
                  ğŸ‘€ ê·¸ëƒ¥
                </button>
              </div>
              <input id="relation" type="hidden" value="ê·¸ëƒ¥ ê¶ê¸ˆ" />
            </label>

            <button
              id="goBtn"
              class="w-full rounded-2xl px-4 py-4 font-extrabold text-slate-950 bg-gradient-to-r from-sky-300 via-emerald-200 to-lime-200 hover:opacity-95 active:scale-[0.99] transition"
            >
              ê²°ê³¼ ë³´ê¸° âš½
            </button>

            <p class="text-xs text-slate-300/70 leading-relaxed">
              * ì´ ì„œë¹„ìŠ¤ëŠ” ì¬ë¯¸ìš© ì‹œë®¬ë ˆì´í„°ì…ë‹ˆë‹¤. ì…ë ¥ê°’ì€ ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
            </p>
          </div>
        </div>

        <!-- Preview/Result Area -->
        <div class="lg:col-span-3">
          <div id="resultWrap" class="hidden">
            <div class="glass rounded-3xl overflow-hidden">
              <div class="p-5 sm:p-6 border-b border-white/10">
                <div class="flex items-center justify-between gap-3">
                  <div>
                    <p
                      id="resultEyebrow"
                      class="text-xs uppercase tracking-widest text-slate-300/70"
                    >
                      Your Result
                    </p>
                    <h2
                      id="resultTitle"
                      class="text-2xl sm:text-3xl font-extrabold mt-2"
                    ></h2>
                    <p id="resultSub" class="text-slate-200/80 mt-2"></p>
                  </div>
                  <div class="text-right">
                    <p class="text-xs text-slate-300/70">ì¼€ë¯¸</p>
                    <p id="chem" class="text-2xl font-extrabold"></p>
                  </div>
                </div>
              </div>

              <div class="grid grid-cols-1 md:grid-cols-5 gap-0">
                <div
                  class="md:col-span-2 p-5 sm:p-6 border-b md:border-b-0 md:border-r border-white/10"
                >
                  <img
                    id="playerImg"
                    class="w-full aspect-[4/3] rounded-2xl object-cover border border-white/10"
                    alt="Player Image"
                    src=""
                  />
                  <div class="mt-4 grid grid-cols-2 gap-2">
                    <div
                      class="rounded-2xl bg-white/5 border border-white/10 p-3"
                    >
                      <p class="text-xs text-slate-300/70">í¬ì§€ì…˜</p>
                      <p id="pos" class="font-bold mt-1"></p>
                    </div>
                    <div
                      class="rounded-2xl bg-white/5 border border-white/10 p-3"
                    >
                      <p class="text-xs text-slate-300/70">êµ­ì </p>
                      <p id="nation" class="font-bold mt-1"></p>
                    </div>
                    <div
                      class="rounded-2xl bg-white/5 border border-white/10 p-3"
                    >
                      <p class="text-xs text-slate-300/70">ì£¼ë°œ</p>
                      <p id="foot" class="font-bold mt-1"></p>
                    </div>
                    <div
                      class="rounded-2xl bg-white/5 border border-white/10 p-3"
                    >
                      <p class="text-xs text-slate-300/70">ë¬´ê¸°</p>
                      <p id="weapon" class="font-bold mt-1"></p>
                    </div>
                  </div>
                </div>

                <div class="md:col-span-3 p-5 sm:p-6">
                  <div class="space-y-3">
                    <div
                      class="rounded-2xl bg-white/5 border border-white/10 p-4"
                    >
                      <p class="text-xs text-slate-300/70">í•œ ì¤„ íŒì •</p>
                      <p id="oneLine" class="mt-1 font-semibold"></p>
                    </div>

                    <div
                      class="rounded-2xl bg-white/5 border border-white/10 p-4"
                    >
                      <p class="text-xs text-slate-300/70">í”Œë ˆì´ ìŠ¤íƒ€ì¼</p>
                      <p id="style" class="mt-1"></p>
                      <div id="tags" class="mt-3 flex flex-wrap gap-2"></div>
                    </div>

                    <div
                      class="rounded-2xl bg-white/5 border border-white/10 p-4"
                    >
                      <p class="text-xs text-slate-300/70">
                        ìœ ì „ í•´ì„ (ë†ë‹´ 70%, ì§„ì‹¬ 30%)
                      </p>
                      <p
                        id="dna"
                        class="mt-1 leading-relaxed text-slate-100/90"
                      ></p>
                    </div>

                    <div class="flex flex-col sm:flex-row gap-2 pt-1">
                      <button
                        id="copyBtn"
                        class="flex-1 rounded-2xl px-4 py-3 font-bold bg-white/10 border border-white/10 hover:bg-white/15 transition"
                      >
                        ê²°ê³¼ ë¬¸êµ¬ ë³µì‚¬ ğŸ“‹
                      </button>
                      <button
                        id="shareBtn"
                        class="flex-1 rounded-2xl px-4 py-3 font-bold bg-white/10 border border-white/10 hover:bg-white/15 transition"
                      >
                        ê³µìœ í•˜ê¸° ğŸ”—
                      </button>
                    </div>

                    <!-- âœ… ê¸°ë³¸ í¬í•¨: ë‹¤ë¥¸ ì„œë¹„ìŠ¤ ë³´ê¸° (ê²°ê³¼ ì˜ì—­ì—ë„) -->
                    <a
                      href="https://funnyfunny.cloud/"
                      target="_blank"
                      rel="noopener noreferrer"
                      class="block text-center rounded-2xl px-4 py-3 font-bold bg-gradient-to-r from-sky-300/20 via-emerald-200/15 to-lime-200/15 border border-white/10 hover:bg-white/10 transition"
                    >
                      ë‹¤ë¥¸ ì„œë¹„ìŠ¤ ë³´ê¸° ğŸ§©
                    </a>

                    <p
                      id="toast"
                      class="hidden text-sm text-emerald-200 font-semibold"
                    ></p>
                  </div>
                </div>
              </div>
            </div>

            <div class="mt-4 glass rounded-3xl p-5 sm:p-6">
              <p class="text-sm text-slate-200/80 leading-relaxed">
                âš ï¸ ì•ˆë‚´: ì´ ê²°ê³¼ëŠ”
                <span class="font-semibold">ì¬ë¯¸ìš©</span>ì…ë‹ˆë‹¤. ë‹¤ë§Œâ€¦ ì´ìƒí•˜ê²Œ
                ì¹œêµ¬ë“¤ì´ â€œë§ëŠ” ë“¯?â€ í•˜ê²Œ ë˜ëŠ” ê·¸ ë§›ì´ í•µì‹¬ì…ë‹ˆë‹¤.
              </p>
            </div>
          </div>
        </div>
      </section>

      <footer class="mt-10 text-center text-xs text-slate-300/60">
        Â© <span id="y"></span> FunnyFunny Â· Made for laughs & shares.
      </footer>
    </main>

    <script>
      // ---------- Utilities ----------
      function clamp(n, a, b) {
        return Math.max(a, Math.min(b, n));
      }

      // xmur3 + mulberry32: deterministic seeded RNG
      function xmur3(str) {
        let h = 1779033703 ^ str.length;
        for (let i = 0; i < str.length; i++) {
          h = Math.imul(h ^ str.charCodeAt(i), 3432918353);
          h = (h << 13) | (h >>> 19);
        }
        return function () {
          h = Math.imul(h ^ (h >>> 16), 2246822507);
          h = Math.imul(h ^ (h >>> 13), 3266489909);
          return (h ^= h >>> 16) >>> 0;
        };
      }
      function mulberry32(a) {
        return function () {
          let t = (a += 0x6d2b79f5);
          t = Math.imul(t ^ (t >>> 15), t | 1);
          t ^= t + Math.imul(t ^ (t >>> 7), t | 61);
          return ((t ^ (t >>> 14)) >>> 0) / 4294967296;
        };
      }
      function pick(rng, arr) {
        return arr[Math.floor(rng() * arr.length)];
      }
      function pickN(rng, arr, n) {
        const copy = arr.slice();
        const out = [];
        while (out.length < n && copy.length) {
          const idx = Math.floor(rng() * copy.length);
          out.push(copy.splice(idx, 1)[0]);
        }
        return out;
      }

      // ---------- Player Dataset (lightweight, no DB) ----------
      // Note: For fun only. Names are used as "types".
      const PLAYERS = [
        {
          name: "Lionel Messi",
          nation: "Argentina",
          pos: "AMF / RW",
          style: "ì´ˆê·¼ì ‘ ë“œë¦¬ë¸” + í…œí¬ ì¡°ì ˆë¡œ ê²½ê¸° ë§¥ì„ ë½‘ì•„ë¨¹ëŠ” íƒ€ì…",
          tags: ["GOAT Aura", "Tight Dribble", "Game Control"],
        },
        {
          name: "Cristiano Ronaldo",
          nation: "Portugal",
          pos: "ST / LW",
          style: "ê²°ì •ë ¥Â·ì§‘ë…Â·í”¼ì§€ì»¬ë¡œ ëª¨ë“  ê±¸ ë°€ì–´ë¶™ì´ëŠ” ì—”ì§„í˜•",
          tags: ["Finisher", "Air Threat", "Mentality"],
        },
        {
          name: "Kevin De Bruyne",
          nation: "Belgium",
          pos: "CM / AMF",
          style: "ì‹œì•¼ë¡œ ë¨¼ì € ë„ì°©í•˜ëŠ” íŒ¨ìŠ¤. í•œ ë²ˆ ì—´ë©´ ëê¹Œì§€ ì—°ë‹¤",
          tags: ["Through Ball", "Vision", "Tempo"],
        },
        {
          name: "Kylian MbappÃ©",
          nation: "France",
          pos: "ST / LW",
          style: "ìˆœê°„ê°€ì†ìœ¼ë¡œ ìˆ˜ë¹„ ë¼ì¸ì„ ì°¢ê³  ë“¤ì–´ê°€ëŠ” ì†ë„í˜•",
          tags: ["Pace", "Channel Run", "Clinical"],
        },
        {
          name: "Erling Haaland",
          nation: "Norway",
          pos: "ST",
          style: "ë°•ìŠ¤ ì•ˆì—ì„œ ëë‚´ëŠ” â€˜ê³µì¥í˜• ë“ì ê¸°â€™",
          tags: ["Box Monster", "Strength", "One Touch"],
        },
        {
          name: "Neymar",
          nation: "Brazil",
          pos: "LW / AMF",
          style: "ê¸°ìˆ ë¡œ ë¶„ìœ„ê¸° ì¥ì•… + ì‡¼ë§¨ì‹­ í•œ ìŠ¤í‘¼",
          tags: ["Skill Moves", "Flair", "Unpredictable"],
        },
        {
          name: "Mohamed Salah",
          nation: "Egypt",
          pos: "RW / ST",
          style: "ì—­ìŠµì—ì„œ ê°€ì¥ ë¬´ì„œìš´ ì»·ì¸ í”¼ë‹ˆì…”",
          tags: ["Cut Inside", "Counter", "Composure"],
        },
        {
          name: "Son Heung-min",
          nation: "Korea",
          pos: "LW / ST",
          style: "ì–‘ë°œ ê²°ì •ë ¥ + ê³µê°„ ì¹¨íˆ¬ê°€ ê¹”ë”í•œ â€˜íš¨ìœ¨ ëíŒì™•â€™",
          tags: ["Two-footed", "Finishing", "Runs"],
        },
        {
          name: "Harry Kane",
          nation: "England",
          pos: "ST",
          style: "ë“ì ë„ í•˜ê³  ë¹Œë“œì—…ë„ í•˜ëŠ” ë§ŒëŠ¥ ìŠ¤íŠ¸ë¼ì´ì»¤",
          tags: ["Playmaking 9", "Finishing", "Hold-up"],
        },
        {
          name: "Robert Lewandowski",
          nation: "Poland",
          pos: "ST",
          style: "ê¸°ë³¸ê¸°Â·í¬ì§€ì…”ë‹Â·ê²°ì •ë ¥ 3ë°•ì ì •ì„",
          tags: ["Positioning", "Clinical", "Consistency"],
        },
        {
          name: "Virgil van Dijk",
          nation: "Netherlands",
          pos: "CB",
          style: "ìƒëŒ€ ê³µê²©ì„ â€˜ì •ë¦¬â€™í•˜ëŠ” ì•ˆì •ê°ì˜ ìƒì§•",
          tags: ["Aerial", "Calm", "Dominance"],
        },
        {
          name: "Sergio Ramos",
          nation: "Spain",
          pos: "CB",
          style: "ê²°ì •ì  ìˆœê°„ì— ë‚˜íƒ€ë‚˜ëŠ” ê³µê²©í˜• ìˆ˜ë¹„ ë¦¬ë”",
          tags: ["Leadership", "Big Game", "Aggressive"],
        },
        {
          name: "RÃºben Dias",
          nation: "Portugal",
          pos: "CB",
          style: "ë¼ì¸ì„ ì¡ê³  íŒ€ì„ ì§€íœ˜í•˜ëŠ” ì¡°ì§í˜• ì„¼í„°ë°±",
          tags: ["Organizer", "Tackling", "Command"],
        },
        {
          name: "Jude Bellingham",
          nation: "England",
          pos: "CM / AMF",
          style: "ë°•ìŠ¤ íˆ¬ ë°•ìŠ¤ë¡œ ë¶„ìœ„ê¸° ë°”ê¾¸ëŠ” â€˜ìƒˆ ì—ì´ìŠ¤â€™ íƒ€ì…",
          tags: ["Box-to-Box", "Clutch", "Energy"],
        },
        {
          name: "Rodri",
          nation: "Spain",
          pos: "DM",
          style: "ê²Œì„ì„ ëŠë¦¬ê²Œ/ë¹ ë¥´ê²Œ ì¡°ì ˆí•˜ëŠ” ë¯¸ë“œí•„ë“œì˜ ê¸°ì¤€ì ",
          tags: ["Control", "Shield", "Simple"],
        },
        {
          name: "Luka ModriÄ‡",
          nation: "Croatia",
          pos: "CM",
          style: "ë¦¬ë“¬ê³¼ ë°©í–¥ì„ ë°”ê¾¸ëŠ” ë§ˆì—ìŠ¤íŠ¸ë¡œ",
          tags: ["Outside Foot", "Press Resist", "Maestro"],
        },
        {
          name: "Toni Kroos",
          nation: "Germany",
          pos: "CM",
          style: "ì •í™•ë„ë¡œ ìƒëŒ€ ì²´ë ¥ì„ ê°‰ì•„ë¨¹ëŠ” íŒ¨ìŠ¤ ë¨¸ì‹ ",
          tags: ["Accuracy", "Switch", "Metronome"],
        },
        {
          name: "Pedri",
          nation: "Spain",
          pos: "CM / AMF",
          style: "ì‘ì€ í„°ì¹˜ë¡œ í° ê³µê°„ì„ ë§Œë“œëŠ” ì¡°ìš©í•œ ì²œì¬í˜•",
          tags: ["First Touch", "IQ", "Smooth"],
        },
        {
          name: "Xavi",
          nation: "Spain",
          pos: "CM",
          style: "í•œ ë²ˆì— í•œ ì¹¸ì”© â€˜ì´ê¸°ëŠ” ë£¨íŠ¸â€™ë¡œ ëŒê³  ê°€ëŠ” íƒ€ì…",
          tags: ["Tiki-taka", "Control", "Angles"],
        },
        {
          name: "AndrÃ©s Iniesta",
          nation: "Spain",
          pos: "CM / AMF",
          style: "í° ê²½ê¸°ì—ì„œ ì¡°ìš©íˆ í•œ ë²ˆì— ëë‚´ëŠ” ì˜ˆìˆ ê°€",
          tags: ["Big Moment", "Dribble", "Calm"],
        },
        {
          name: "Zinedine Zidane",
          nation: "France",
          pos: "AMF",
          style: "ìš°ì•„í•¨ìœ¼ë¡œ ê²½ê¸° ë‚œì´ë„ë¥¼ ë‚®ì¶”ëŠ” ì „ì„¤í˜•",
          tags: ["Elegance", "Technique", "Aura"],
        },
        {
          name: "Ronaldinho",
          nation: "Brazil",
          pos: "LW / AMF",
          style: "ì‚¬ëŒì„ ì›ƒê¸°ë©´ì„œ ì´ê¸°ëŠ” ë§ˆìˆ ì‚¬",
          tags: ["Joy", "Flair", "Magic"],
        },
        {
          name: "Ronaldo NazÃ¡rio",
          nation: "Brazil",
          pos: "ST",
          style: "ì²« ê±¸ìŒì—ì„œ ìŠ¹ë¶€ê°€ ëë‚˜ëŠ” í­ë°œí˜• ìŠ¤íŠ¸ë¼ì´ì»¤",
          tags: ["Burst", "Dribble", "Finisher"],
        },
        {
          name: "Thierry Henry",
          nation: "France",
          pos: "ST / LW",
          style: "ë¯¸ë‹ˆë©€ ë™ì‘ìœ¼ë¡œ ìµœëŒ€ íš¨ìœ¨ì„ ë½‘ëŠ” í´ë˜ì‹ í‚¬ëŸ¬",
          tags: ["Efficiency", "Cut", "Composure"],
        },
        {
          name: "Didier Drogba",
          nation: "CÃ´te d'Ivoire",
          pos: "ST",
          style: "í° ê²½ê¸°ì—ì„œ ë²„í‹°ê³  ë¶€ìˆ˜ëŠ” â€˜ë³´ìŠ¤ëª¹â€™",
          tags: ["Big Game", "Hold-up", "Power"],
        },
        {
          name: "Andrea Pirlo",
          nation: "Italy",
          pos: "CM / DM",
          style: "í•œ ë²ˆì˜ íŒ¨ìŠ¤ë¡œ ì„¸ê³„ê´€ì„ ë°”ê¾¸ëŠ” ë¡±íŒ¨ìŠ¤ ì¥ì¸",
          tags: ["Long Pass", "Set Piece", "Calm"],
        },
        {
          name: "Gianluigi Buffon",
          nation: "Italy",
          pos: "GK",
          style: "íŒ€ ë©˜íƒˆê¹Œì§€ ë§‰ì•„ì£¼ëŠ” ë ˆì „ë“œ ìˆ˜ë¬¸ì¥",
          tags: ["Reflex", "Leadership", "Longevity"],
        },
        {
          name: "Manuel Neuer",
          nation: "Germany",
          pos: "GK",
          style: "ê³¨í‚¤í¼ì¸ë° ì‚¬ì‹¤ìƒ ìŠ¤ìœ„í¼. ë¼ì¸ì„ ì§€ìš´ë‹¤",
          tags: ["Sweeper GK", "Bravery", "Play"],
        },
        {
          name: "Iker Casillas",
          nation: "Spain",
          pos: "GK",
          style: "ë°˜ì‚¬ì‹ ê²½ìœ¼ë¡œ ê²Œì„ì„ ì‚´ë¦¬ëŠ” â€˜ìˆœê°„ì˜ ì˜ì›…â€™",
          tags: ["Reflex", "Clutch", "Shot Stop"],
        },
        {
          name: "Marcelo",
          nation: "Brazil",
          pos: "LB",
          style: "ìˆ˜ë¹„ìˆ˜ì¸ë° ê³µê²©ìˆ˜ì²˜ëŸ¼ ë…¼ë‹¤. ì¸¡ë©´ì˜ ì˜ˆìˆ ",
          tags: ["Overlap", "Skill", "Playmaker"],
        },
        {
          name: "Dani Alves",
          nation: "Brazil",
          pos: "RB",
          style: "ê²½ê¸°ë¥¼ ë„“íˆëŠ” ì™•ì„±í•œ í™œë™ëŸ‰ + í¬ë¡œìŠ¤",
          tags: ["Work Rate", "Cross", "Width"],
        },
        {
          name: "Trent Alexander-Arnold",
          nation: "England",
          pos: "RB / CM",
          style: "ì˜¤ë¥¸ìª½ì—ì„œ íŒ¨ìŠ¤ë¡œ ê²½ê¸° ì„¤ê³„í•˜ëŠ” íƒ€ì…",
          tags: ["Playmaking", "Cross", "Vision"],
        },
        {
          name: "Achraf Hakimi",
          nation: "Morocco",
          pos: "RB / RWB",
          style: "ì¸¡ë©´ ê°€ì†ìœ¼ë¡œ ê³µê°„ì„ ì°¢ëŠ” ìŠ¤í”„ë¦°í„°",
          tags: ["Pace", "Overlap", "Direct"],
        },
        {
          name: "N'Golo KantÃ©",
          nation: "France",
          pos: "DM",
          style: "ìƒëŒ€ ê³µì„ â€˜ì—†ë˜ ì¼â€™ë¡œ ë§Œë“œëŠ” ì²­ì†Œê¸°",
          tags: ["Ball Win", "Engine", "Humble"],
        },
        {
          name: "Casemiro",
          nation: "Brazil",
          pos: "DM",
          style: "ê²½ê¸° íë¦„ ëŠê³  íŒ€ì„ ì§€í‚¤ëŠ” ë°©íŒ¨í˜•",
          tags: ["Shield", "Duels", "Grit"],
        },
        {
          name: "Sadio ManÃ©",
          nation: "Senegal",
          pos: "LW / ST",
          style: "ì§ì„  ì¹¨íˆ¬ + ì••ë°•ìœ¼ë¡œ ê²½ê¸° ì˜¨ë„ ì˜¬ë¦¬ëŠ” íƒ€ì…",
          tags: ["Pressing", "Direct", "Runs"],
        },
        {
          name: "VinÃ­cius JÃºnior",
          nation: "Brazil",
          pos: "LW",
          style: "1ëŒ€1ì—ì„œ ìƒëŒ€ ë©˜íƒˆì„ ë…¹ì´ëŠ” ë“œë¦¬ë¸”ëŸ¬",
          tags: ["1v1", "Flair", "Acceleration"],
        },
        {
          name: "Bukayo Saka",
          nation: "England",
          pos: "RW",
          style: "ì•ˆì •ê°+ê²°ì •ë ¥ìœ¼ë¡œ ì„±ì¥í•˜ëŠ” â€˜íŒ€ì˜ ë¯¸ë˜â€™",
          tags: ["Consistency", "Composed", "Versatile"],
        },
        {
          name: "Bernardo Silva",
          nation: "Portugal",
          pos: "AMF / RW",
          style: "ì‰´ ìƒˆ ì—†ì´ ëŒë©´ì„œ ì••ë°•ì„ ì´ê¸°ëŠ” í…Œí¬ë‹ˆì…˜",
          tags: ["Press Resist", "Dribble", "Work Rate"],
        },
        {
          name: "Antoine Griezmann",
          nation: "France",
          pos: "SS / AMF",
          style: "ì—°ê²°Â·ì••ë°•Â·ê²°ì •ë ¥ ë‹¤ í•˜ëŠ” ë˜‘ë˜‘í•œ í”Œë ˆì´ì–´",
          tags: ["Link-up", "Smart Runs", "Clutch"],
        },
        {
          name: "Paulo Dybala",
          nation: "Argentina",
          pos: "AMF / SS",
          style: "ì™¼ë°œë¡œ ê°ì„ ë§Œë“¤ì–´ â€˜ì˜ˆì˜ê²Œâ€™ ëë‚´ëŠ” íƒ€ì…",
          tags: ["Left Foot", "Curve", "Technique"],
        },
        {
          name: "Marco Reus",
          nation: "Germany",
          pos: "AMF / LW",
          style: "ë¶€ë“œëŸ¬ìš´ í„°ì¹˜ë¡œ ì°¬ìŠ¤ ë§Œë“œëŠ” ê°ì„±í˜•",
          tags: ["Smooth", "Finishing", "Movement"],
        },
        {
          name: "Gareth Bale",
          nation: "Wales",
          pos: "RW / LW",
          style: "ìŠ¤í”¼ë“œÂ·íŒŒì›ŒÂ·ì™¼ë°œ ì¤‘ê±°ë¦¬ë¡œ í•œ ë°©",
          tags: ["Power", "Pace", "Big Shot"],
        },
        {
          name: "Xabi Alonso",
          nation: "Spain",
          pos: "CM / DM",
          style: "ê²½ê¸° ì „ì²´ë¥¼ ìœ„ì—ì„œ ë‚´ë ¤ë‹¤ë³´ëŠ” ë°°ê¸‰í˜•",
          tags: ["Distribution", "Calm", "Switch"],
        },
        {
          name: "Francesco Totti",
          nation: "Italy",
          pos: "SS / AMF",
          style: "í•œ íŒ€ì—ì„œ ì™•ì²˜ëŸ¼ êµ°ë¦¼í•˜ëŠ” í”Œë ˆì´ë©”ì´ì»¤",
          tags: ["Loyalty", "Vision", "Finishing"],
        },
        {
          name: "Steven Gerrard",
          nation: "England",
          pos: "CM",
          style: "ì¤‘ê±°ë¦¬ í•œ ë°© + ë¦¬ë”ì‹­ìœ¼ë¡œ íŒ€ ëŒê³  ê°€ëŠ” íƒ€ì…",
          tags: ["Long Shot", "Leader", "Drive"],
        },
        {
          name: "Frank Lampard",
          nation: "England",
          pos: "CM",
          style: "ë°•ìŠ¤ ì¹¨íˆ¬ë¡œ ë“ì  ìƒì‚°í•˜ëŠ” ë¯¸ë“œí•„ë”",
          tags: ["Late Runs", "Goals", "Timing"],
        },
        {
          name: "Paul Scholes",
          nation: "England",
          pos: "CM",
          style: "ì§§ê³  ë¹ ë¥´ê²Œ, ê·¸ë¦¬ê³  ë¡±íŒ¨ìŠ¤ë¡œ ë",
          tags: ["Passing", "Tempo", "Range"],
        },
        {
          name: "David Beckham",
          nation: "England",
          pos: "RM / CM",
          style: "í”„ë¦¬í‚¥Â·í¬ë¡œìŠ¤ë¡œ ê°ì„ ìƒˆê¸°ëŠ” â€˜ì •ë°€ê¸°ê³„â€™",
          tags: ["Set Piece", "Cross", "Precision"],
        },
      ];

      const FOOT = [
        "ì˜¤ë¥¸ë°œ",
        "ì™¼ë°œ",
        "ì–‘ë°œ(ì‚¬ê¸°)",
        "ì˜¤ë¥¸ë°œ(ì™¼ë°œë„ ë¨)",
        "ì™¼ë°œ(ì˜¤ë¥¸ë°œë„ ë¨)",
      ];
      const WEAPONS = [
        "ì¤‘ê±°ë¦¬ í•œ ë°©",
        "ë°•ìŠ¤ ì•ˆ ì›í„°ì¹˜",
        "ìˆœê°„ ê°€ì†",
        "í™˜ìƒ íŒ¨ìŠ¤",
        "ì„¸íŠ¸í”¼ìŠ¤",
        "ê³µì¤‘ë³¼",
        "1ëŒ€1 ë“œë¦¬ë¸”",
        "ì••ë°• íƒˆì¶œ",
        "ìˆ˜ë¹„ ì°¨ë‹¨",
        "í´ëŸ¬ì¹˜ ë©˜íƒˆ",
      ];
      const ONELINES = [
        "ì´ ì¡°í•©ì€â€¦ ê°ë…ë§Œ ì˜ ë§Œë‚˜ë©´ ë°”ë¡œ ì›”ë“œí´ë˜ìŠ¤ì…ë‹ˆë‹¤.",
        "ì¬ëŠ¥ì€ í™•ì‹¤í•œë°, ìê¾¸ í•˜ì´ë¼ì´íŠ¸ê°€ ë‚˜ì˜µë‹ˆë‹¤. (ì¢‹ì€ ëœ»)",
        "íŒ€í”Œë„ ë˜ëŠ”ë° ì†”ë¡œí”Œë„ ë©ë‹ˆë‹¤. ìœ„í—˜í•˜ê²Œ ì™„ì„±í˜•.",
        "ê²½ê¸° íë¦„ì„ ë°”ê¾¸ëŠ” íƒ€ì…ì´ë¼ ì£¼ë³€ì´ â€˜ì™œ ì €ë˜?â€™ í•˜ë‹¤ ì´ê¹ë‹ˆë‹¤.",
        "ê¸°ë³¸ê¸°ê°€ ì¢‹ì•„ì„œ ì˜¤ë˜ê°‘ë‹ˆë‹¤. ê¾¸ì¤€íˆ ë¬´ì„œìš´ ì¡°í•©.",
      ];
      const DNA_TEMPLATES = [
        "Aì˜ {aKey} + Bì˜ {bKey}ê°€ ì„ì—¬ì„œ, {name}ì²˜ëŸ¼ â€˜{hook}â€™ì´(ê°€) ê°•í•˜ê²Œ ë‚˜ì˜µë‹ˆë‹¤. í•œ ë²ˆ ê½‚íˆë©´ ëê¹Œì§€ ê°‘ë‹ˆë‹¤.",
        "ë‘˜ì˜ ì¡°í•©ì€ â€˜{hook}â€™ì´ í•µì‹¬ ìœ ì „ìì…ë‹ˆë‹¤. ê·¸ë˜ì„œ {name} íƒ€ì…: ìƒëŒ€ê°€ ëŒ€ë¹„ë¥¼ í•´ë„ ì´ìƒí•˜ê²Œ ëš«ë¦½ë‹ˆë‹¤.",
        "{name} DNAëŠ” {hook}ì— íˆ¬ìí•©ë‹ˆë‹¤. Aì˜ {aKey}ê°€ ê¸°ë°˜ì„ ê¹”ê³ , Bì˜ {bKey}ê°€ ë§ˆì¹¨í‘œë¥¼ ì°ëŠ” êµ¬ì¡°ì˜ˆìš”.",
        "ì´ ì¡°í•©ì€ ì•ˆì •ê° ìœ„ì— ì„íŒ©íŠ¸ë¥¼ ì–¹ìŠµë‹ˆë‹¤. {name}ì²˜ëŸ¼ {hook}ì„(ë¥¼) í•œ ë²ˆ í„°ëœ¨ë¦¬ë©´ ë¶„ìœ„ê¸°ê°€ ë°”ë€ë‹ˆë‹¤.",
      ];
      const KEYWORDS_A = [
        "ì§‘ìš”í•¨",
        "ê¾¸ì¤€í•¨",
        "ìŠ¹ë¶€ìš•",
        "ìƒìƒë ¥",
        "ì°¨ë¶„í•¨",
        "í­ë°œë ¥",
        "ì •êµí•¨",
        "ì±…ì„ê°",
        "ê³„íšì„±",
        "ê°ê°",
      ];
      const KEYWORDS_B = [
        "ì„¼ìŠ¤",
        "ìš©ê¸°",
        "ì—¬ìœ ",
        "ë„ì „ì„±",
        "ìœ ì¾Œí•¨",
        "ìì‹ ê°",
        "ëª°ì…",
        "ë°°ì§±",
        "ìœ ì—°í•¨",
        "ë¦¬ë“¬",
      ];

      // ---------- Pixabay API ----------
      const PIXABAY_KEY = "53710884-8cf25255c451e1da9731736f6";

      async function loadPlayerImage(playerName, imgElement, altText) {
        try {
          const url = new URL("https://pixabay.com/api/");
          url.searchParams.set("key", PIXABAY_KEY);
          // ì„ ìˆ˜ ì´ë¦„ë§Œ ê²€ìƒ‰ ì¿¼ë¦¬ì— ì‚¬ìš©
          url.searchParams.set("q", playerName);
          url.searchParams.set("image_type", "photo");
          url.searchParams.set("orientation", "horizontal");
          url.searchParams.set("safesearch", "true");
          url.searchParams.set("lang", "en");
          url.searchParams.set("per_page", "6");
          console.log("[image search]", playerName, url.toString());

          const res = await fetch(url);
          if (!res.ok) throw new Error("Pixabay request failed");
          const data = await res.json();
          const hit = (data.hits || [])[0];

          if (hit && hit.webformatURL) {
            imgElement.src = hit.webformatURL;
            imgElement.alt = altText || `${playerName} ì´ë¯¸ì§€`;
          } else {
            // ì´ë¯¸ì§€ë¥¼ ì°¾ì§€ ëª»í•œ ê²½ìš° placeholder ì‚¬ìš©
            imgElement.src = `https://dummyimage.com/900x675/1e293b/ffffff&text=${encodeURIComponent(
              playerName
            )}`;
            imgElement.alt = altText || `${playerName} Type`;
            console.log("[image search] ì´ë¯¸ì§€ë¥¼ ì°¾ì§€ ëª»í•¨:", playerName);
          }
        } catch (err) {
          console.error("ì´ë¯¸ì§€ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:", err);
          // ì‹¤íŒ¨ ì‹œ placeholder ì‚¬ìš©
          imgElement.src = `https://dummyimage.com/900x675/1e293b/ffffff&text=${encodeURIComponent(
            playerName
          )}`;
          imgElement.alt = altText || `${playerName} Type`;
        }
      }

      // ---------- UI bindings ----------
      const $ = (id) => document.getElementById(id);
      const birthA = $("birthA");
      const birthB = $("birthB");
      const relation = $("relation");
      const goBtn = $("goBtn");
      const resultWrap = $("resultWrap");

      const resultTitle = $("resultTitle");
      const resultSub = $("resultSub");
      const chem = $("chem");
      const pos = $("pos");
      const nation = $("nation");
      const foot = $("foot");
      const weapon = $("weapon");
      const oneLine = $("oneLine");
      const style = $("style");
      const dna = $("dna");
      const tags = $("tags");
      const playerImg = $("playerImg");
      const toast = $("toast");
      const copyBtn = $("copyBtn");
      const shareBtn = $("shareBtn");
      const resultEyebrow = $("resultEyebrow");

      // Relationship buttons
      document.querySelectorAll(".relBtn").forEach((btn) => {
        btn.addEventListener("click", () => {
          document
            .querySelectorAll(".relBtn")
            .forEach((b) =>
              b.classList.remove("ring-2", "ring-emerald-300/60")
            );
          btn.classList.add("ring-2", "ring-emerald-300/60");
          relation.value = btn.dataset.rel || "ê·¸ëƒ¥ ê¶ê¸ˆ";
        });
      });
      // default select
      document
        .querySelector('.relBtn[data-rel="ê·¸ëƒ¥ ê¶ê¸ˆ"]')
        ?.classList.add("ring-2", "ring-emerald-300/60");

      function showToast(msg) {
        toast.textContent = msg;
        toast.classList.remove("hidden");
        setTimeout(() => toast.classList.add("hidden"), 1800);
      }

      function toYMD(d) {
        return (d || "").trim();
      }

      function buildSeed(a, b, rel) {
        const str = `${a}|${b}|${rel}|v1`;
        const seedFn = xmur3(str);
        return seedFn(); // uint32
      }

      function updateURL(a, b, rel) {
        const url = new URL(location.href);
        url.searchParams.set("a", a);
        url.searchParams.set("b", b);
        url.searchParams.set("r", rel);
        history.replaceState(null, "", url.toString());
      }

      function makeShareText(res) {
        const line1 = `âš½ ìš°ë¦¬ ë‘˜ì˜ ì¡°í•©ì´ ë‚³ì„ ì¶•êµ¬ì„ ìˆ˜ëŠ”?`;
        const line2 = `ê²°ê³¼: ${res.player.name} íƒ€ì…`;
        const line3 = `í¬ì§€ì…˜: ${res.player.pos} Â· ì¼€ë¯¸: ${res.chem}/100`;
        const line4 = `í•œ ì¤„: ${res.oneLine}`;
        return `${line1}\n${line2}\n${line3}\n${line4}\n\nğŸ‘‰ ${location.href}`;
      }

      function renderResult(res) {
        resultWrap.classList.remove("hidden");
        resultWrap.classList.add("fade-in");

        resultEyebrow.textContent = `Your Result Â· ${res.rel}`;
        resultTitle.textContent = `${res.player.name} íƒ€ì…`;
        resultSub.textContent = `${res.player.nation} Â· ${res.player.pos} Â· â€œ${res.hook}â€`;

        chem.textContent = `${res.chem}/100`;
        pos.textContent = res.player.pos;
        nation.textContent = res.player.nation;
        foot.textContent = res.foot;
        weapon.textContent = res.weapon;

        oneLine.textContent = res.oneLine;
        style.textContent = res.player.style;

        tags.innerHTML = "";
        res.tags.forEach((t) => {
          const el = document.createElement("span");
          el.className =
            "px-3 py-1 rounded-full bg-white/10 border border-white/10 text-sm";
          el.textContent = t;
          tags.appendChild(el);
        });

        dna.textContent = res.dna;

        // âœ… í•´ë‹¹ ì„ ìˆ˜ ì–¼êµ´ ì´ë¯¸ì§€ í‘œì‹œ (Pixabay API ì‚¬ìš©)
        loadPlayerImage(res.player.name, playerImg, `${res.player.name} Type`);

        // scroll into view
        resultWrap.scrollIntoView({ behavior: "smooth", block: "start" });
      }

      function generate() {
        const a = toYMD(birthA.value);
        const b = toYMD(birthB.value);
        const rel = relation.value || "ê·¸ëƒ¥ ê¶ê¸ˆ";

        if (!a || !b) {
          showToast("ìƒì¼ 2ê°œë¥¼ ëª¨ë‘ ì…ë ¥í•´ì¤˜!");
          return;
        }

        updateURL(a, b, rel);

        const seed = buildSeed(a, b, rel);
        const rng = mulberry32(seed);

        const player = PLAYERS[Math.floor(rng() * PLAYERS.length)];
        const chemScore = Math.floor(70 + rng() * 31); // 70~100
        const hook = pick(rng, [
          "ê²°ì •ë ¥",
          "ì‹œì•¼",
          "ë“œë¦¬ë¸”",
          "ê°€ì†",
          "ë©˜íƒˆ",
          "íŒ¨ìŠ¤",
          "ì¤‘ê±°ë¦¬",
          "ì••ë°• íƒˆì¶œ",
          "ê³µê°„ ì¹¨íˆ¬",
          "ì„¸íŠ¸í”¼ìŠ¤",
        ]);
        const one = pick(rng, ONELINES);
        const f = pick(rng, FOOT);
        const w = pick(rng, WEAPONS);

        const aKey = pick(rng, KEYWORDS_A);
        const bKey = pick(rng, KEYWORDS_B);
        const dnaTpl = pick(rng, DNA_TEMPLATES);
        const dnaText = dnaTpl
          .replaceAll("{name}", player.name)
          .replaceAll("{hook}", hook)
          .replaceAll("{aKey}", aKey)
          .replaceAll("{bKey}", bKey);

        const extraTags = pickN(
          rng,
          [
            "Clutch",
            "Calm",
            "Chaos",
            "High IQ",
            "Big Game",
            "Work Rate",
            "Ice Cold",
            "Street Ball",
            "Machine",
            "Artist",
            "Captain",
            "Counter",
          ],
          2
        );

        const res = {
          a,
          b,
          rel,
          player,
          chem: chemScore,
          hook,
          oneLine: one,
          foot: f,
          weapon: w,
          tags: [...(player.tags || []).slice(0, 2), ...extraTags],
          dna: dnaText,
          imgSeed: `football-${player.name
            .replace(/\s+/g, "-")
            .toLowerCase()}-${seed}`,
        };

        renderResult(res);

        // bind copy/share with this result
        const shareText = makeShareText(res);

        copyBtn.onclick = async () => {
          try {
            await navigator.clipboard.writeText(shareText);
            showToast("ë³µì‚¬ ì™„ë£Œ! í†¡/ìŠ¤í† ë¦¬ì— ë¶™ì—¬ë„£ê¸° ã„±ã„±");
          } catch {
            // fallback
            const ta = document.createElement("textarea");
            ta.value = shareText;
            document.body.appendChild(ta);
            ta.select();
            document.execCommand("copy");
            ta.remove();
            showToast("ë³µì‚¬ ì™„ë£Œ!");
          }
        };

        shareBtn.onclick = async () => {
          const url = location.href;
          if (navigator.share) {
            try {
              await navigator.share({
                title: "ìš°ë¦¬ ë‘˜ì˜ ì¡°í•©ì´ ë‚³ì„ ì¶•êµ¬ì„ ìˆ˜ëŠ”?",
                text: shareText,
                url,
              });
            } catch {
              // user canceled
            }
          } else {
            try {
              await navigator.clipboard.writeText(url);
              showToast("ê³µìœ  ë§í¬ ë³µì‚¬ ì™„ë£Œ!");
            } catch {
              showToast("ë¸Œë¼ìš°ì €ê°€ ê³µìœ ë¥¼ ì§€ì›í•˜ì§€ ì•Šì•„ìš” ğŸ˜­");
            }
          }
        };
      }

      goBtn.addEventListener("click", generate);

      // Enter-to-run
      [birthA, birthB].forEach((inp) =>
        inp.addEventListener("keydown", (e) => {
          if (e.key === "Enter") generate();
        })
      );

      // Auto-run from query params
      (function initFromURL() {
        $("y").textContent = new Date().getFullYear();
        const url = new URL(location.href);
        const a = url.searchParams.get("a");
        const b = url.searchParams.get("b");
        const r = url.searchParams.get("r");
        if (a) birthA.value = a;
        if (b) birthB.value = b;
        if (r) relation.value = r;

        // highlight relation if matches
        if (r) {
          document
            .querySelectorAll(".relBtn")
            .forEach((b) =>
              b.classList.remove("ring-2", "ring-emerald-300/60")
            );
          const btn = document.querySelector(
            `.relBtn[data-rel="${CSS.escape(r)}"]`
          );
          btn?.classList.add("ring-2", "ring-emerald-300/60");
        }

        if (a && b) {
          // auto-generate if shared link
          setTimeout(generate, 120);
        }
      })();
    </script>
  </body>
</html>
