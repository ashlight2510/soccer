<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title data-i18n-title="metaTitle">ìš°ë¦¬ ë‘˜ì˜ ì¡°í•©ì´ ë‚³ì„ ì¶•êµ¬ì„ ìˆ˜ëŠ”?</title>

    <!-- SEO meta -->
    <meta
      name="description"
      content="ë‚˜ì™€ ìƒëŒ€ë°©ì˜ ìƒì¼ì„ ì…ë ¥í•˜ë©´, ìš°ë¦¬ ë‘˜ì˜ ì¡°í•©ì´ ë‚³ì„ ì¶•êµ¬ì„ ìˆ˜ íƒ€ì…ì„ ëœë¤(í•˜ì§€ë§Œ ê·¸ëŸ´ë“¯í•˜ê²Œ) ë§¤ì¹­í•´ë“œë¦½ë‹ˆë‹¤. ê²°ê³¼ëŠ” ë°”ë¡œ ê³µìœ  ê°€ëŠ¥!"
    />
    <meta
      name="keywords"
      content="ì¶•êµ¬ í…ŒìŠ¤íŠ¸, ìƒì¼ ê¶í•©, ì¶•êµ¬ì„ ìˆ˜ íƒ€ì…, ëœë¤ í…ŒìŠ¤íŠ¸, ì»¤í”Œ í…ŒìŠ¤íŠ¸, ì¬ë¯¸ í…ŒìŠ¤íŠ¸, football dna"
    />
    <meta name="author" content="FunnyFunny" />
    <link rel="canonical" href="https://funnyfunny.cloud/" />

    <!-- OG / Twitter -->
    <meta property="og:title" content="ìš°ë¦¬ ë‘˜ì˜ ì¡°í•©ì´ ë‚³ì„ ì¶•êµ¬ì„ ìˆ˜ëŠ”?" />
    <meta
      property="og:description"
      content="ìƒì¼ 2ê°œë§Œ ì…ë ¥í•˜ë©´ ë. ìš°ë¦¬ ì¡°í•©ì—ì„œ íƒœì–´ë‚  ì¶•êµ¬ DNAë¥¼ ê³µê°œí•©ë‹ˆë‹¤ âš½"
    />
    <meta property="og:type" content="website" />
    <!-- âœ… ì‹¤ì œ ë™ì‘ ë”ë¯¸ ì´ë¯¸ì§€ -->
    <meta
      property="og:image"
      content="https://dummyimage.com/1200x630/1e293b/ffffff&text=Soccer"
    />
    <meta property="og:image:alt" content="Our Football DNA Result" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="ìš°ë¦¬ ë‘˜ì˜ ì¡°í•©ì´ ë‚³ì„ ì¶•êµ¬ì„ ìˆ˜ëŠ”?" />
    <meta
      name="twitter:description"
      content="ìƒì¼ 2ê°œë§Œ ì…ë ¥í•˜ë©´ ë. ìš°ë¦¬ ì¡°í•©ì—ì„œ íƒœì–´ë‚  ì¶•êµ¬ DNAë¥¼ ê³µê°œí•©ë‹ˆë‹¤ âš½"
    />
    <meta
      name="twitter:image"
      content="https://dummyimage.com/1200x630/1e293b/ffffff&text=Soccer"
    />

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/svg+xml"
      href="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%3E%3Ctext%20y='0.9em'%20font-size='90'%3E%E2%9A%BD%3C/text%3E%3C/svg%3E"
    />

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&family=Pretendard:wght@400;600;700&display=swap");
      :root {
        --bg0: #060712;
        --bg1: #0b1020;
        --card: #0f172a;
      }
      body {
        font-family: Pretendard, system-ui, -apple-system, Segoe UI, Roboto,
          sans-serif;
        background: radial-gradient(
            1200px 600px at 10% 0%,
            rgba(59, 130, 246, 0.25),
            transparent 60%
          ),
          radial-gradient(
            900px 500px at 90% 20%,
            rgba(34, 197, 94, 0.18),
            transparent 60%
          ),
          linear-gradient(180deg, var(--bg0), var(--bg1));
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 100vh;
      }
      .glass {
        background: rgba(15, 23, 42, 0.62);
        border: 1px solid rgba(148, 163, 184, 0.18);
        backdrop-filter: blur(10px);
      }
      .shine {
        position: relative;
        overflow: hidden;
      }
      .shine::after {
        content: "";
        position: absolute;
        inset: -40%;
        background: linear-gradient(
          120deg,
          transparent 35%,
          rgba(255, 255, 255, 0.1) 50%,
          transparent 65%
        );
        transform: translateX(-30%);
        animation: sweep 3.8s infinite;
      }
      @keyframes sweep {
        0% {
          transform: translateX(-55%);
        }
        45% {
          transform: translateX(70%);
        }
        100% {
          transform: translateX(70%);
        }
      }
      .fade-in {
        animation: fade 0.28s ease-out both;
      }
      @keyframes fade {
        from {
          opacity: 0;
          transform: translateY(8px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1204894220949193"
     crossorigin="anonymous"></script>
  <style>
    .adsense-block {
      margin: 16px 0;
      display: flex;
      justify-content: center;
      min-height: 100px;
    }
    .adsbygoogle {
      display: block;
      margin: 16px auto;
      text-align: center;
    }
  </style>
    <!-- responsive-base -->
    <style>
      /* responsive-base */
      *, *::before, *::after {
        box-sizing: border-box;
      }
      html {
        -webkit-text-size-adjust: 100%;
      }
      img,
      video,
      canvas,
      svg {
        max-width: 100%;
        height: auto;
      }
      table {
        width: 100%;
      }
      pre,
      code {
        white-space: pre-wrap;
        word-break: break-word;
      }
    </style>
  <style>
    .lang-switch {
      position: fixed;
      top: 16px;
      right: 16px;
      display: inline-flex;
      gap: 0;
      padding: 3px;
      border-radius: 999px;
      background: rgba(6, 7, 18, 0.95);
      backdrop-filter: blur(10px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 1000;
    }
    .lang-switch button {
      border: none;
      background: transparent;
      color: rgba(255, 255, 255, 0.7);
      font-size: 12px;
      font-weight: 700;
      padding: 7px 14px;
      border-radius: 999px;
      cursor: pointer;
      transition: all 0.2s ease;
      min-width: 44px;
      text-align: center;
      letter-spacing: 0.02em;
    }
    .lang-switch button.active {
      background: #3b82f6;
      color: #ffffff;
      box-shadow: 0 2px 8px rgba(59, 130, 246, 0.4);
    }
    .lang-switch button:not(.active):hover {
      background: rgba(59, 130, 246, 0.2);
      color: rgba(255, 255, 255, 0.9);
    }
  </style>
</head>

  <body class="min-h-screen text-slate-100 w-full flex flex-col items-center justify-center">
    <div class="lang-switch" role="tablist" aria-label="Language switcher">
      <button type="button" data-lang="ko" class="active">KR</button>
      <button type="button" data-lang="en">EN</button>
    </div>
    <div class="w-full max-w-6xl mx-auto px-4 sm:px-6 py-8 sm:py-12">
    <header class="text-center mb-8 sm:mb-12">
      <p class="text-xs uppercase tracking-widest text-slate-300/70 mb-2">
        Football DNA Simulator
      </p>
      <h1 class="text-3xl sm:text-4xl md:text-5xl font-extrabold leading-tight mb-6">
        <span data-i18n="titlePart1">ìš°ë¦¬ ë‘˜ì˜ ì¡°í•©ì´ ë‚³ì„</span>
        <span
          class="text-transparent bg-clip-text bg-gradient-to-r from-sky-300 via-emerald-200 to-lime-200"
          data-i18n="titlePart2">ì¶•êµ¬ì„ ìˆ˜</span
        ><span data-i18n="titlePart3">ëŠ”?</span>
      </h1>
      
      <!-- âœ… ê¸°ë³¸ í¬í•¨: ë‹¤ë¥¸ ì„œë¹„ìŠ¤ ë³´ê¸° -->
      <a
        href="https://funnyfunny.cloud/"
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex items-center gap-2 rounded-2xl px-4 py-3 glass hover:bg-white/10 transition"
      >
        <span class="text-lg">ğŸ§©</span>
        <span class="font-semibold" data-i18n="btnOtherServices">ë‹¤ë¥¸ ì„œë¹„ìŠ¤ ë³´ê¸°</span>
      </a>
    </header>

    <main class="pb-10">
      <section class="grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8 max-w-5xl mx-auto">
        <!-- Input Card -->
        <div class="glass rounded-3xl p-6 sm:p-8 shadow-xl">
          <div class="text-center mb-6">
            <h2 class="text-2xl font-bold" data-i18n="inputTitle">ìƒì¼ ì…ë ¥</h2>
          </div>

          <div class="space-y-5">
            <label class="block">
              <span class="text-sm font-semibold text-slate-200/90 mb-2 block" data-i18n="inputBirthA">ë‚´ ìƒì¼</span>
              <input
                id="birthA"
                type="date"
                min="1900-01-01"
                max="2025-12-31"
                class="w-full rounded-2xl px-4 py-3.5 bg-slate-950/60 border border-slate-700/40 focus:outline-none focus:ring-2 focus:ring-sky-400/60 focus:border-sky-400/60 transition"
              />
            </label>

            <label class="block">
              <span class="text-sm font-semibold text-slate-200/90 mb-2 block" data-i18n="inputBirthB">ìƒëŒ€ë°© ìƒì¼</span>
              <input
                id="birthB"
                type="date"
                min="1900-01-01"
                max="2025-12-31"
                class="w-full rounded-2xl px-4 py-3.5 bg-slate-950/60 border border-slate-700/40 focus:outline-none focus:ring-2 focus:ring-emerald-400/60 focus:border-emerald-400/60 transition"
              />
            </label>

            <label class="block">
              <span class="text-sm font-semibold text-slate-200/90 mb-2 block" data-i18n="inputRelation">ê´€ê³„ íƒ€ì… (ì„ íƒ)</span>
              <div class="grid grid-cols-2 gap-2.5">
                <button
                  type="button"
                  data-rel="ì—°ì¸"
                  class="relBtn rounded-2xl px-3 py-3.5 glass hover:bg-white/10 active:scale-[0.98] transition text-sm font-semibold"
                >
                  <span data-i18n="relationLovers">ğŸ’ ì—°ì¸</span>
                </button>
                <button
                  type="button"
                  data-rel="ì¸"
                  class="relBtn rounded-2xl px-3 py-3.5 glass hover:bg-white/10 active:scale-[0.98] transition text-sm font-semibold"
                >
                  <span data-i18n="relationSome">ğŸ˜¶â€ğŸŒ«ï¸ ì¸</span>
                </button>
                <button
                  type="button"
                  data-rel="ë¶€ë¶€"
                  class="relBtn rounded-2xl px-3 py-3.5 glass hover:bg-white/10 active:scale-[0.98] transition text-sm font-semibold"
                >
                  <span data-i18n="relationCouple">ğŸ’ ë¶€ë¶€</span>
                </button>
                <button
                  type="button"
                  data-rel="ê·¸ëƒ¥ ê¶ê¸ˆ"
                  class="relBtn rounded-2xl px-3 py-3.5 glass hover:bg-white/10 active:scale-[0.98] transition text-sm font-semibold"
                >
                  <span data-i18n="relationCurious">ğŸ‘€ ê·¸ëƒ¥</span>
                </button>
              </div>
              <input id="relation" type="hidden" value="ê·¸ëƒ¥ ê¶ê¸ˆ" />
            </label>

            <button
              id="goBtn"
              class="w-full rounded-2xl px-4 py-4 font-extrabold text-slate-950 bg-gradient-to-r from-sky-300 via-emerald-200 to-lime-200 hover:opacity-95 hover:shadow-lg hover:shadow-sky-300/20 active:scale-[0.98] transition-all mt-2"
            >
              <span data-i18n="btnShowResult">ê²°ê³¼ ë³´ê¸°</span> âš½
            </button>

            <p class="text-xs text-slate-300/70 leading-relaxed text-center mt-4" data-i18n="inputNote">
              * ì´ ì„œë¹„ìŠ¤ëŠ” ì¬ë¯¸ìš© ì‹œë®¬ë ˆì´í„°ì…ë‹ˆë‹¤. ì…ë ¥ê°’ì€ ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
            </p>
          </div>
        </div>

        <!-- Preview/Result Area -->
        <div>
          <div id="resultWrap" class="hidden">
            <div class="glass rounded-3xl overflow-hidden shadow-xl">
              <div class="p-5 sm:p-6 border-b border-white/10">
                <div class="flex items-center justify-between gap-3">
                  <div>
                      <p
                      id="resultEyebrow"
                      class="text-xs uppercase tracking-widest text-slate-300/70"
                      data-i18n="resultEyebrow"
                    >
                    </p>
                    <h2
                      id="resultTitle"
                      class="text-2xl sm:text-3xl font-extrabold mt-2"
                    ></h2>
                    <p id="resultSub" class="text-slate-200/80 mt-2"></p>
                  </div>
                  <div class="text-right">
                    <p class="text-xs text-slate-300/70" data-i18n="resultChem">ì¼€ë¯¸</p>
                    <p id="chem" class="text-2xl font-extrabold"></p>
                  </div>
                </div>
              </div>

              <div class="grid grid-cols-1 md:grid-cols-5 gap-0">
                <div
                  class="md:col-span-2 p-5 sm:p-6 border-b md:border-b-0 md:border-r border-white/10"
                >
                  <img
                    id="playerImg"
                    class="w-full aspect-[4/3] rounded-2xl object-cover border border-white/10"
                    alt="Player Image"
                    src=""
                  />
                  <div class="mt-4 grid grid-cols-2 gap-2">
                    <div
                      class="rounded-2xl bg-white/5 border border-white/10 p-3"
                    >
                      <p class="text-xs text-slate-300/70" data-i18n="resultPos">í¬ì§€ì…˜</p>
                      <p id="pos" class="font-bold mt-1"></p>
                    </div>
                    <div
                      class="rounded-2xl bg-white/5 border border-white/10 p-3"
                    >
                      <p class="text-xs text-slate-300/70" data-i18n="resultNation">êµ­ì </p>
                      <p id="nation" class="font-bold mt-1"></p>
                    </div>
                    <div
                      class="rounded-2xl bg-white/5 border border-white/10 p-3"
                    >
                      <p class="text-xs text-slate-300/70" data-i18n="resultFoot">ì£¼ë°œ</p>
                      <p id="foot" class="font-bold mt-1"></p>
                    </div>
                    <div
                      class="rounded-2xl bg-white/5 border border-white/10 p-3"
                    >
                      <p class="text-xs text-slate-300/70" data-i18n="resultWeapon">ë¬´ê¸°</p>
                      <p id="weapon" class="font-bold mt-1"></p>
                    </div>
                  </div>
                </div>

                <div class="md:col-span-3 p-5 sm:p-6">
                  <div class="space-y-3">
                    <div
                      class="rounded-2xl bg-white/5 border border-white/10 p-4"
                    >
                      <p class="text-xs text-slate-300/70" data-i18n="resultOneLine">í•œ ì¤„ íŒì •</p>
                      <p id="oneLine" class="mt-1 font-semibold"></p>
                    </div>

                    <div
                      class="rounded-2xl bg-white/5 border border-white/10 p-4"
                    >
                      <p class="text-xs text-slate-300/70" data-i18n="resultStyle">í”Œë ˆì´ ìŠ¤íƒ€ì¼</p>
                      <p id="style" class="mt-1"></p>
                      <div id="tags" class="mt-3 flex flex-wrap gap-2"></div>
                    </div>

                    <div
                      class="rounded-2xl bg-white/5 border border-white/10 p-4"
                    >
                      <p class="text-xs text-slate-300/70" data-i18n="resultDNA">
                        ìœ ì „ í•´ì„ (ë†ë‹´ 70%, ì§„ì‹¬ 30%)
                      </p>
                      <p
                        id="dna"
                        class="mt-1 leading-relaxed text-slate-100/90"
                      ></p>
                    </div>

                    <div class="flex flex-col sm:flex-row gap-2 pt-1">
                      <button
                        id="copyBtn"
                        class="flex-1 rounded-2xl px-4 py-3 font-bold bg-white/10 border border-white/10 hover:bg-white/15 transition"
                      >
                        <span data-i18n="btnCopy">ê²°ê³¼ ë¬¸êµ¬ ë³µì‚¬</span> ğŸ“‹
                      </button>
                      <button
                        id="shareBtn"
                        class="flex-1 rounded-2xl px-4 py-3 font-bold bg-white/10 border border-white/10 hover:bg-white/15 transition"
                      >
                        <span data-i18n="btnShare">ê³µìœ í•˜ê¸°</span> ğŸ”—
                      </button>
                    </div>

                    <!-- âœ… ê¸°ë³¸ í¬í•¨: ë‹¤ë¥¸ ì„œë¹„ìŠ¤ ë³´ê¸° (ê²°ê³¼ ì˜ì—­ì—ë„) -->
                    <a
                      href="https://funnyfunny.cloud/"
                      target="_blank"
                      rel="noopener noreferrer"
                      class="block text-center rounded-2xl px-4 py-3 font-bold bg-gradient-to-r from-sky-300/20 via-emerald-200/15 to-lime-200/15 border border-white/10 hover:bg-white/10 transition"
                    >
                      <span data-i18n="btnOtherServices">ë‹¤ë¥¸ ì„œë¹„ìŠ¤ ë³´ê¸°</span> ğŸ§©
                    </a>

                    <p
                      id="toast"
                      class="hidden text-sm text-emerald-200 font-semibold"
                    ></p>
                  </div>
                </div>
              </div>
            </div>

            <div class="mt-4 glass rounded-3xl p-5 sm:p-6">
              <p class="text-sm text-slate-200/80 leading-relaxed" data-i18n="resultWarning">
                âš ï¸ ì•ˆë‚´: ì´ ê²°ê³¼ëŠ”
                <span class="font-semibold">ì¬ë¯¸ìš©</span>ì…ë‹ˆë‹¤. ë‹¤ë§Œâ€¦ ì´ìƒí•˜ê²Œ
                ì¹œêµ¬ë“¤ì´ "ë§ëŠ” ë“¯?" í•˜ê²Œ ë˜ëŠ” ê·¸ ë§›ì´ í•µì‹¬ì…ë‹ˆë‹¤.
              </p>
            </div>
          </div>
        </div>
      </section>

      <footer class="mt-10 text-center text-xs text-slate-300/60">
        Â© <span id="y"></span> FunnyFunny Â· Made for laughs & shares.
      </footer>
    </main>
    </div>

    <!-- ê´‘ê³  ì˜ì—­ -->
    <div class="w-full max-w-6xl mx-auto px-4 sm:px-6 mt-8 mb-8">
      <div class="adsense-block" style="min-height: 100px;">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-1204894220949193"
             data-ad-slot="5145068706"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
          // ê´‘ê³  ì˜ì—­ì´ ë³´ì¼ ë•Œë§Œ ê´‘ê³  ë¡œë“œ
          (function() {
            const adBlock = document.querySelector('.adsense-block');
            if (!adBlock) return;
            
            const observer = new IntersectionObserver((entries) => {
              entries.forEach(entry => {
                if (entry.isIntersecting) {
                  try {
                    (adsbygoogle = window.adsbygoogle || []).push({});
                    observer.disconnect();
                  } catch (e) {
                    console.warn('AdSense error:', e);
                  }
                }
              });
            }, { rootMargin: '50px' });
            
            observer.observe(adBlock);
          })();
        </script>
      </div>
    </div>

    <script>
      // =========================
      // i18n
      // =========================
      const translations = {
        ko: {
          metaTitle: "ìš°ë¦¬ ë‘˜ì˜ ì¡°í•©ì´ ë‚³ì„ ì¶•êµ¬ì„ ìˆ˜ëŠ”?",
          subtitle: "Football DNA Simulator",
          titlePart1: "ìš°ë¦¬ ë‘˜ì˜ ì¡°í•©ì´ ë‚³ì„",
          titlePart2: "ì¶•êµ¬ì„ ìˆ˜",
          titlePart3: "ëŠ”?",
          btnOtherServices: "ë‹¤ë¥¸ ì„œë¹„ìŠ¤ ë³´ê¸°",
          inputTitle: "ìƒì¼ ì…ë ¥",
          inputBirthA: "ë‚´ ìƒì¼",
          inputBirthB: "ìƒëŒ€ë°© ìƒì¼",
          inputRelation: "ê´€ê³„ íƒ€ì… (ì„ íƒ)",
          relationLovers: "ğŸ’ ì—°ì¸",
          relationSome: "ğŸ˜¶â€ğŸŒ«ï¸ ì¸",
          relationCouple: "ğŸ’ ë¶€ë¶€",
          relationCurious: "ğŸ‘€ ê·¸ëƒ¥",
          btnShowResult: "ê²°ê³¼ ë³´ê¸°",
          inputNote: "* ì´ ì„œë¹„ìŠ¤ëŠ” ì¬ë¯¸ìš© ì‹œë®¬ë ˆì´í„°ì…ë‹ˆë‹¤. ì…ë ¥ê°’ì€ ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.",
          resultEyebrow: "Your Result",
          resultChem: "ì¼€ë¯¸",
          resultPos: "í¬ì§€ì…˜",
          resultNation: "êµ­ì ",
          resultFoot: "ì£¼ë°œ",
          resultWeapon: "ë¬´ê¸°",
          resultOneLine: "í•œ ì¤„ íŒì •",
          resultStyle: "í”Œë ˆì´ ìŠ¤íƒ€ì¼",
          resultDNA: "ìœ ì „ í•´ì„ (ë†ë‹´ 70%, ì§„ì‹¬ 30%)",
          btnCopy: "ê²°ê³¼ ë¬¸êµ¬ ë³µì‚¬",
          btnShare: "ê³µìœ í•˜ê¸°",
          resultWarning: "âš ï¸ ì•ˆë‚´: ì´ ê²°ê³¼ëŠ” ì¬ë¯¸ìš©ì…ë‹ˆë‹¤. ë‹¤ë§Œâ€¦ ì´ìƒí•˜ê²Œ ì¹œêµ¬ë“¤ì´ \"ë§ëŠ” ë“¯?\" í•˜ê²Œ ë˜ëŠ” ê·¸ ë§›ì´ í•µì‹¬ì…ë‹ˆë‹¤.",
          toastInputRequired: "ìƒì¼ 2ê°œë¥¼ ëª¨ë‘ ì…ë ¥í•´ì¤˜!",
          toastCopySuccess: "ë³µì‚¬ ì™„ë£Œ! í†¡/ìŠ¤í† ë¦¬ì— ë¶™ì—¬ë„£ê¸° ã„±ã„±",
          toastCopySuccessFallback: "ë³µì‚¬ ì™„ë£Œ!",
          toastShareLinkCopied: "ê³µìœ  ë§í¬ ë³µì‚¬ ì™„ë£Œ!",
          toastShareNotSupported: "ë¸Œë¼ìš°ì €ê°€ ê³µìœ ë¥¼ ì§€ì›í•˜ì§€ ì•Šì•„ìš” ğŸ˜­",
          shareTitle: "ìš°ë¦¬ ë‘˜ì˜ ì¡°í•©ì´ ë‚³ì„ ì¶•êµ¬ì„ ìˆ˜ëŠ”?",
          shareResult: "ê²°ê³¼: {name} íƒ€ì…",
          sharePosition: "í¬ì§€ì…˜: {pos} Â· ì¼€ë¯¸: {chem}/100",
          shareOneLine: "í•œ ì¤„: {oneLine}",
          resultType: "{name} íƒ€ì…",
          resultEyebrowWithRel: "Your Result Â· {rel}",
        },
        en: {
          metaTitle: "What Football Player Would Our Combination Create?",
          subtitle: "Football DNA Simulator",
          titlePart1: "What Football Player",
          titlePart2: "Would Our Combination",
          titlePart3: "Create?",
          btnOtherServices: "View Other Services",
          inputTitle: "Birthday Input",
          inputBirthA: "My Birthday",
          inputBirthB: "Partner's Birthday",
          inputRelation: "Relationship Type (Optional)",
          relationLovers: "ğŸ’ Lovers",
          relationSome: "ğŸ˜¶â€ğŸŒ«ï¸ Some",
          relationCouple: "ğŸ’ Couple",
          relationCurious: "ğŸ‘€ Just Curious",
          btnShowResult: "Show Result",
          inputNote: "* This service is a fun simulator. Input values are not saved.",
          resultEyebrow: "Your Result",
          resultChem: "Chemistry",
          resultPos: "Position",
          resultNation: "Nationality",
          resultFoot: "Foot",
          resultWeapon: "Weapon",
          resultOneLine: "One-Line Verdict",
          resultStyle: "Play Style",
          resultDNA: "DNA Analysis (70% joke, 30% serious)",
          btnCopy: "Copy Result Text",
          btnShare: "Share",
          resultWarning: "âš ï¸ Note: This result is for fun. However... the key is that friends strangely find it \"accurate?\"",
          toastInputRequired: "Please enter both birthdays!",
          toastCopySuccess: "Copied! Paste in chat/story",
          toastCopySuccessFallback: "Copied!",
          toastShareLinkCopied: "Share link copied!",
          toastShareNotSupported: "Browser doesn't support sharing ğŸ˜­",
          shareTitle: "âš½ What Football Player Would Our Combination Create?",
          shareResult: "Result: {name} Type",
          sharePosition: "Position: {pos} Â· Chemistry: {chem}/100",
          shareOneLine: "One-Line: {oneLine}",
          resultType: "{name} Type",
          resultEyebrowWithRel: "Your Result Â· {rel}",
        },
      };

      const defaultLang = "ko";
      const supportedLangs = ["ko", "en"];
      let currentLang = defaultLang;

      function t(key, vars = {}) {
        const langTable = translations[currentLang] || translations.ko;
        let template = langTable?.[key] ?? translations.ko?.[key] ?? key;
        if (typeof template !== "string") return template;
        Object.keys(vars).forEach((k) => {
          template = template.replace(new RegExp(`\\{${k}\\}`, "g"), vars[k]);
        });
        return template;
      }

      function applyTranslations() {
        document.title = t("metaTitle");
        document.documentElement.lang = currentLang;
        document.querySelectorAll("[data-i18n]").forEach((el) => {
          el.textContent = t(el.dataset.i18n);
        });
        document.querySelectorAll("[data-i18n-html]").forEach((el) => {
          el.innerHTML = t(el.dataset.i18nHtml);
        });
        document.querySelectorAll("[data-i18n-title]").forEach((el) => {
          if (el.tagName === "TITLE") {
            el.textContent = t(el.dataset.i18nTitle);
          } else {
            el.title = t(el.dataset.i18nTitle);
          }
        });
        document.querySelectorAll("[data-i18n-aria]").forEach((el) => {
          el.setAttribute("aria-label", t(el.dataset.i18nAria));
        });
        document.querySelectorAll("[data-i18n-alt]").forEach((el) => {
          el.setAttribute("alt", t(el.dataset.i18nAlt));
        });
      }

      function detectLang() {
        const params = new URLSearchParams(window.location.search);
        const paramLang = params.get("lang");
        if (supportedLangs.includes(paramLang)) return paramLang;
        const stored = localStorage.getItem("preferredLang");
        if (supportedLangs.includes(stored)) return stored;
        const browserLang =
          navigator.languages && navigator.languages.length
            ? navigator.languages[0]
            : navigator.language;
        if (browserLang && browserLang.toLowerCase().startsWith("ko")) {
          return "ko";
        }
        return defaultLang;
      }

      function setLang(lang, options = {}) {
        const nextLang = supportedLangs.includes(lang) ? lang : defaultLang;
        currentLang = nextLang;
        window.currentLang = currentLang;
        document.documentElement.lang = nextLang;
        localStorage.setItem("preferredLang", nextLang);
        document.querySelectorAll(".lang-switch button").forEach((button) => {
          button.classList.toggle("active", button.dataset.lang === nextLang);
        });
        applyTranslations();
        if (options.updateUrl) {
          const url = new URL(window.location.href);
          url.searchParams.set("lang", nextLang);
          window.history.replaceState({}, "", url);
        }
        // Re-generate with same inputs if result exists
        if (window.lastResult) {
          const a = window.lastResult.a;
          const b = window.lastResult.b;
          const rel = window.lastResult.rel;
          if (a && b) {
            const birthA = $("birthA");
            const birthB = $("birthB");
            const relation = $("relation");
            if (birthA && birthB && relation) {
              birthA.value = a;
              birthB.value = b;
              relation.value = rel;
              setTimeout(() => generate(), 100);
            }
          }
        }
      }

      document.querySelectorAll(".lang-switch button").forEach((button) => {
        button.addEventListener("click", () => {
          setLang(button.dataset.lang, { updateUrl: true });
        });
      });

      setLang(detectLang(), { updateUrl: false });

      // Make t() function and currentLang globally available
      window.t = t;
      window.currentLang = currentLang;
      window.setLang = setLang;

      // ---------- Utilities ----------
      function clamp(n, a, b) {
        return Math.max(a, Math.min(b, n));
      }

      // xmur3 + mulberry32: deterministic seeded RNG
      function xmur3(str) {
        let h = 1779033703 ^ str.length;
        for (let i = 0; i < str.length; i++) {
          h = Math.imul(h ^ str.charCodeAt(i), 3432918353);
          h = (h << 13) | (h >>> 19);
        }
        return function () {
          h = Math.imul(h ^ (h >>> 16), 2246822507);
          h = Math.imul(h ^ (h >>> 13), 3266489909);
          return (h ^= h >>> 16) >>> 0;
        };
      }
      function mulberry32(a) {
        return function () {
          let t = (a += 0x6d2b79f5);
          t = Math.imul(t ^ (t >>> 15), t | 1);
          t ^= t + Math.imul(t ^ (t >>> 7), t | 61);
          return ((t ^ (t >>> 14)) >>> 0) / 4294967296;
        };
      }
      function pick(rng, arr) {
        return arr[Math.floor(rng() * arr.length)];
      }
      function pickN(rng, arr, n) {
        const copy = arr.slice();
        const out = [];
        while (out.length < n && copy.length) {
          const idx = Math.floor(rng() * copy.length);
          out.push(copy.splice(idx, 1)[0]);
        }
        return out;
      }

      // ---------- Translation data ----------
      function getPlayerStyleTranslations() {
        const isKo = currentLang === "ko";
        return {
          "Lionel Messi": isKo ? "ì´ˆê·¼ì ‘ ë“œë¦¬ë¸” + í…œí¬ ì¡°ì ˆë¡œ ê²½ê¸° ë§¥ì„ ë½‘ì•„ë¨¹ëŠ” íƒ€ì…" : "Ultra-close dribbling + tempo control type that dominates the game",
          "Cristiano Ronaldo": isKo ? "ê²°ì •ë ¥Â·ì§‘ë…Â·í”¼ì§€ì»¬ë¡œ ëª¨ë“  ê±¸ ë°€ì–´ë¶™ì´ëŠ” ì—”ì§„í˜•" : "Engine type that pushes everything with finishing, persistence, and physicality",
          "Kevin De Bruyne": isKo ? "ì‹œì•¼ë¡œ ë¨¼ì € ë„ì°©í•˜ëŠ” íŒ¨ìŠ¤. í•œ ë²ˆ ì—´ë©´ ëê¹Œì§€ ì—°ë‹¤" : "Passes that arrive first with vision. Once open, keeps going",
          "Kylian MbappÃ©": isKo ? "ìˆœê°„ê°€ì†ìœ¼ë¡œ ìˆ˜ë¹„ ë¼ì¸ì„ ì°¢ê³  ë“¤ì–´ê°€ëŠ” ì†ë„í˜•" : "Speed type that tears through defensive lines with instant acceleration",
          "Erling Haaland": isKo ? "ë°•ìŠ¤ ì•ˆì—ì„œ ëë‚´ëŠ” 'ê³µì¥í˜• ë“ì ê¸°'" : "Goal-scoring factory that finishes inside the box",
          "Neymar": isKo ? "ê¸°ìˆ ë¡œ ë¶„ìœ„ê¸° ì¥ì•… + ì‡¼ë§¨ì‹­ í•œ ìŠ¤í‘¼" : "Atmosphere control with technique + a spoonful of showmanship",
          "Mohamed Salah": isKo ? "ì—­ìŠµì—ì„œ ê°€ì¥ ë¬´ì„œìš´ ì»·ì¸ í”¼ë‹ˆì…”" : "The scariest cut-in finisher in counter-attacks",
          "Son Heung-min": isKo ? "ì–‘ë°œ ê²°ì •ë ¥ + ê³µê°„ ì¹¨íˆ¬ê°€ ê¹”ë”í•œ 'íš¨ìœ¨ ëíŒì™•'" : "Two-footed finishing + clean space penetration - the efficiency king",
          "Harry Kane": isKo ? "ë“ì ë„ í•˜ê³  ë¹Œë“œì—…ë„ í•˜ëŠ” ë§ŒëŠ¥ ìŠ¤íŠ¸ë¼ì´ì»¤" : "All-round striker who scores and builds up",
          "Robert Lewandowski": isKo ? "ê¸°ë³¸ê¸°Â·í¬ì§€ì…”ë‹Â·ê²°ì •ë ¥ 3ë°•ì ì •ì„" : "Textbook trio: fundamentals, positioning, finishing",
          "Virgil van Dijk": isKo ? "ìƒëŒ€ ê³µê²©ì„ 'ì •ë¦¬'í•˜ëŠ” ì•ˆì •ê°ì˜ ìƒì§•" : "Symbol of stability who 'organizes' opponent attacks",
          "Sergio Ramos": isKo ? "ê²°ì •ì  ìˆœê°„ì— ë‚˜íƒ€ë‚˜ëŠ” ê³µê²©í˜• ìˆ˜ë¹„ ë¦¬ë”" : "Attacking defensive leader who appears at crucial moments",
          "RÃºben Dias": isKo ? "ë¼ì¸ì„ ì¡ê³  íŒ€ì„ ì§€íœ˜í•˜ëŠ” ì¡°ì§í˜• ì„¼í„°ë°±" : "Organizing center-back who holds the line and commands the team",
          "Jude Bellingham": isKo ? "ë°•ìŠ¤ íˆ¬ ë°•ìŠ¤ë¡œ ë¶„ìœ„ê¸° ë°”ê¾¸ëŠ” 'ìƒˆ ì—ì´ìŠ¤' íƒ€ì…" : "Box-to-box type who changes the atmosphere - the 'new ace'",
          "Rodri": isKo ? "ê²Œì„ì„ ëŠë¦¬ê²Œ/ë¹ ë¥´ê²Œ ì¡°ì ˆí•˜ëŠ” ë¯¸ë“œí•„ë“œì˜ ê¸°ì¤€ì " : "Midfield reference point who controls the game's tempo",
          "Luka ModriÄ‡": isKo ? "ë¦¬ë“¬ê³¼ ë°©í–¥ì„ ë°”ê¾¸ëŠ” ë§ˆì—ìŠ¤íŠ¸ë¡œ" : "Maestro who changes rhythm and direction",
          "Toni Kroos": isKo ? "ì •í™•ë„ë¡œ ìƒëŒ€ ì²´ë ¥ì„ ê°‰ì•„ë¨¹ëŠ” íŒ¨ìŠ¤ ë¨¸ì‹ " : "Pass machine that drains opponent stamina with accuracy",
          "Pedri": isKo ? "ì‘ì€ í„°ì¹˜ë¡œ í° ê³µê°„ì„ ë§Œë“œëŠ” ì¡°ìš©í•œ ì²œì¬í˜•" : "Quiet genius type who creates big spaces with small touches",
          "Xavi": isKo ? "í•œ ë²ˆì— í•œ ì¹¸ì”© 'ì´ê¸°ëŠ” ë£¨íŠ¸'ë¡œ ëŒê³  ê°€ëŠ” íƒ€ì…" : "Type who leads step by step on the 'winning path'",
          "AndrÃ©s Iniesta": isKo ? "í° ê²½ê¸°ì—ì„œ ì¡°ìš©íˆ í•œ ë²ˆì— ëë‚´ëŠ” ì˜ˆìˆ ê°€" : "Artist who quietly finishes everything in big games",
          "Zinedine Zidane": isKo ? "ìš°ì•„í•¨ìœ¼ë¡œ ê²½ê¸° ë‚œì´ë„ë¥¼ ë‚®ì¶”ëŠ” ì „ì„¤í˜•" : "Legendary type who lowers game difficulty with elegance",
          "Ronaldinho": isKo ? "ì‚¬ëŒì„ ì›ƒê¸°ë©´ì„œ ì´ê¸°ëŠ” ë§ˆìˆ ì‚¬" : "Magician who wins while making people laugh",
          "Ronaldo NazÃ¡rio": isKo ? "ì²« ê±¸ìŒì—ì„œ ìŠ¹ë¶€ê°€ ëë‚˜ëŠ” í­ë°œí˜• ìŠ¤íŠ¸ë¼ì´ì»¤" : "Explosive striker who decides the match from the first step",
          "Thierry Henry": isKo ? "ë¯¸ë‹ˆë©€ ë™ì‘ìœ¼ë¡œ ìµœëŒ€ íš¨ìœ¨ì„ ë½‘ëŠ” í´ë˜ì‹ í‚¬ëŸ¬" : "Classic killer who maximizes efficiency with minimal movement",
          "Didier Drogba": isKo ? "í° ê²½ê¸°ì—ì„œ ë²„í‹°ê³  ë¶€ìˆ˜ëŠ” 'ë³´ìŠ¤ëª¹'" : "'Boss monster' who endures and breaks in big games",
          "Andrea Pirlo": isKo ? "í•œ ë²ˆì˜ íŒ¨ìŠ¤ë¡œ ì„¸ê³„ê´€ì„ ë°”ê¾¸ëŠ” ë¡±íŒ¨ìŠ¤ ì¥ì¸" : "Long pass craftsman who changes perspectives with one pass",
          "Gianluigi Buffon": isKo ? "íŒ€ ë©˜íƒˆê¹Œì§€ ë§‰ì•„ì£¼ëŠ” ë ˆì „ë“œ ìˆ˜ë¬¸ì¥" : "Legendary goalkeeper who protects even team morale",
          "Manuel Neuer": isKo ? "ê³¨í‚¤í¼ì¸ë° ì‚¬ì‹¤ìƒ ìŠ¤ìœ„í¼. ë¼ì¸ì„ ì§€ìš´ë‹¤" : "Goalkeeper who's actually a sweeper. Erases the line",
          "Iker Casillas": isKo ? "ë°˜ì‚¬ì‹ ê²½ìœ¼ë¡œ ê²Œì„ì„ ì‚´ë¦¬ëŠ” 'ìˆœê°„ì˜ ì˜ì›…'" : "'Moment hero' who saves the game with reflexes",
          "Marcelo": isKo ? "ìˆ˜ë¹„ìˆ˜ì¸ë° ê³µê²©ìˆ˜ì²˜ëŸ¼ ë…¼ë‹¤. ì¸¡ë©´ì˜ ì˜ˆìˆ " : "Defender who plays like a forward. Side artistry",
          "Dani Alves": isKo ? "ê²½ê¸°ë¥¼ ë„“íˆëŠ” ì™•ì„±í•œ í™œë™ëŸ‰ + í¬ë¡œìŠ¤" : "Vigorous work rate that widens the game + crosses",
          "Trent Alexander-Arnold": isKo ? "ì˜¤ë¥¸ìª½ì—ì„œ íŒ¨ìŠ¤ë¡œ ê²½ê¸° ì„¤ê³„í•˜ëŠ” íƒ€ì…" : "Type who designs the game with passes from the right",
          "Achraf Hakimi": isKo ? "ì¸¡ë©´ ê°€ì†ìœ¼ë¡œ ê³µê°„ì„ ì°¢ëŠ” ìŠ¤í”„ë¦°í„°" : "Sprinter who tears space with flank acceleration",
          "N'Golo KantÃ©": isKo ? "ìƒëŒ€ ê³µì„ 'ì—†ë˜ ì¼'ë¡œ ë§Œë“œëŠ” ì²­ì†Œê¸°" : "Vacuum cleaner who makes opponent balls 'never existed'",
          "Casemiro": isKo ? "ê²½ê¸° íë¦„ ëŠê³  íŒ€ì„ ì§€í‚¤ëŠ” ë°©íŒ¨í˜•" : "Shield type who breaks game flow and protects the team",
          "Sadio ManÃ©": isKo ? "ì§ì„  ì¹¨íˆ¬ + ì••ë°•ìœ¼ë¡œ ê²½ê¸° ì˜¨ë„ ì˜¬ë¦¬ëŠ” íƒ€ì…" : "Type who raises game temperature with direct penetration + pressing",
          "VinÃ­cius JÃºnior": isKo ? "1ëŒ€1ì—ì„œ ìƒëŒ€ ë©˜íƒˆì„ ë…¹ì´ëŠ” ë“œë¦¬ë¸”ëŸ¬" : "Dribbler who melts opponent mentality in 1v1",
          "Bukayo Saka": isKo ? "ì•ˆì •ê°+ê²°ì •ë ¥ìœ¼ë¡œ ì„±ì¥í•˜ëŠ” 'íŒ€ì˜ ë¯¸ë˜'" : "'Team's future' growing with stability + finishing",
          "Bernardo Silva": isKo ? "ì‰´ ìƒˆ ì—†ì´ ëŒë©´ì„œ ì••ë°•ì„ ì´ê¸°ëŠ” í…Œí¬ë‹ˆì…˜" : "Technician who beats pressing by constantly moving",
          "Antoine Griezmann": isKo ? "ì—°ê²°Â·ì••ë°•Â·ê²°ì •ë ¥ ë‹¤ í•˜ëŠ” ë˜‘ë˜‘í•œ í”Œë ˆì´ì–´" : "Smart player who links, presses, and finishes",
          "Paulo Dybala": isKo ? "ì™¼ë°œë¡œ ê°ì„ ë§Œë“¤ì–´ 'ì˜ˆì˜ê²Œ' ëë‚´ëŠ” íƒ€ì…" : "Type who creates angles with left foot and finishes 'beautifully'",
          "Marco Reus": isKo ? "ë¶€ë“œëŸ¬ìš´ í„°ì¹˜ë¡œ ì°¬ìŠ¤ ë§Œë“œëŠ” ê°ì„±í˜•" : "Emotional type who creates chances with soft touches",
          "Gareth Bale": isKo ? "ìŠ¤í”¼ë“œÂ·íŒŒì›ŒÂ·ì™¼ë°œ ì¤‘ê±°ë¦¬ë¡œ í•œ ë°©" : "One shot with speed, power, and left-footed long range",
          "Xabi Alonso": isKo ? "ê²½ê¸° ì „ì²´ë¥¼ ìœ„ì—ì„œ ë‚´ë ¤ë‹¤ë³´ëŠ” ë°°ê¸‰í˜•" : "Distribution type who sees the entire game from above",
          "Francesco Totti": isKo ? "í•œ íŒ€ì—ì„œ ì™•ì²˜ëŸ¼ êµ°ë¦¼í•˜ëŠ” í”Œë ˆì´ë©”ì´ì»¤" : "Playmaker who reigns like a king in one team",
          "Steven Gerrard": isKo ? "ì¤‘ê±°ë¦¬ í•œ ë°© + ë¦¬ë”ì‹­ìœ¼ë¡œ íŒ€ ëŒê³  ê°€ëŠ” íƒ€ì…" : "Type who leads the team with long-range shots + leadership",
          "Frank Lampard": isKo ? "ë°•ìŠ¤ ì¹¨íˆ¬ë¡œ ë“ì  ìƒì‚°í•˜ëŠ” ë¯¸ë“œí•„ë”" : "Midfielder who produces goals with box penetration",
          "Paul Scholes": isKo ? "ì§§ê³  ë¹ ë¥´ê²Œ, ê·¸ë¦¬ê³  ë¡±íŒ¨ìŠ¤ë¡œ ë" : "Short and fast, then finished with long passes",
          "David Beckham": isKo ? "í”„ë¦¬í‚¥Â·í¬ë¡œìŠ¤ë¡œ ê°ì„ ìƒˆê¸°ëŠ” 'ì •ë°€ê¸°ê³„'" : "'Precision machine' who carves angles with free kicks and crosses",
        };
      }

      function getFootTranslations() {
        const isKo = currentLang === "ko";
        return isKo ? [
          "ì˜¤ë¥¸ë°œ",
          "ì™¼ë°œ",
          "ì–‘ë°œ(ì‚¬ê¸°)",
          "ì˜¤ë¥¸ë°œ(ì™¼ë°œë„ ë¨)",
          "ì™¼ë°œ(ì˜¤ë¥¸ë°œë„ ë¨)",
        ] : [
          "Right foot",
          "Left foot",
          "Both feet (OP)",
          "Right foot (left works too)",
          "Left foot (right works too)",
        ];
      }

      function getWeaponsTranslations() {
        const isKo = currentLang === "ko";
        return isKo ? [
          "ì¤‘ê±°ë¦¬ í•œ ë°©",
          "ë°•ìŠ¤ ì•ˆ ì›í„°ì¹˜",
          "ìˆœê°„ ê°€ì†",
          "í™˜ìƒ íŒ¨ìŠ¤",
          "ì„¸íŠ¸í”¼ìŠ¤",
          "ê³µì¤‘ë³¼",
          "1ëŒ€1 ë“œë¦¬ë¸”",
          "ì••ë°• íƒˆì¶œ",
          "ìˆ˜ë¹„ ì°¨ë‹¨",
          "í´ëŸ¬ì¹˜ ë©˜íƒˆ",
        ] : [
          "Long-range shot",
          "One-touch in box",
          "Instant acceleration",
          "Fantasy pass",
          "Set pieces",
          "Aerial balls",
          "1v1 dribble",
          "Press escape",
          "Defensive block",
          "Clutch mentality",
        ];
      }

      function getOnelinesTranslations() {
        const isKo = currentLang === "ko";
        return isKo ? [
          "ì´ ì¡°í•©ì€â€¦ ê°ë…ë§Œ ì˜ ë§Œë‚˜ë©´ ë°”ë¡œ ì›”ë“œí´ë˜ìŠ¤ì…ë‹ˆë‹¤.",
          "ì¬ëŠ¥ì€ í™•ì‹¤í•œë°, ìê¾¸ í•˜ì´ë¼ì´íŠ¸ê°€ ë‚˜ì˜µë‹ˆë‹¤. (ì¢‹ì€ ëœ»)",
          "íŒ€í”Œë„ ë˜ëŠ”ë° ì†”ë¡œí”Œë„ ë©ë‹ˆë‹¤. ìœ„í—˜í•˜ê²Œ ì™„ì„±í˜•.",
          "ê²½ê¸° íë¦„ì„ ë°”ê¾¸ëŠ” íƒ€ì…ì´ë¼ ì£¼ë³€ì´ 'ì™œ ì €ë˜?' í•˜ë‹¤ ì´ê¹ë‹ˆë‹¤.",
          "ê¸°ë³¸ê¸°ê°€ ì¢‹ì•„ì„œ ì˜¤ë˜ê°‘ë‹ˆë‹¤. ê¾¸ì¤€íˆ ë¬´ì„œìš´ ì¡°í•©.",
        ] : [
          "This combo... just meet the right coach and it's world-class.",
          "Talent is clear, highlights keep coming. (Good meaning)",
          "Works in team play and solo play. Dangerously complete.",
          "A game-changing type, so opponents ask 'why is he like that?' and then lose.",
          "Solid fundamentals last long. Consistently scary combo.",
        ];
      }

      function getDnaTemplatesTranslations() {
        const isKo = currentLang === "ko";
        return isKo ? [
          "Aì˜ {aKey} + Bì˜ {bKey}ê°€ ì„ì—¬ì„œ, {name}ì²˜ëŸ¼ '{hook}'ì´(ê°€) ê°•í•˜ê²Œ ë‚˜ì˜µë‹ˆë‹¤. í•œ ë²ˆ ê½‚íˆë©´ ëê¹Œì§€ ê°‘ë‹ˆë‹¤.",
          "ë‘˜ì˜ ì¡°í•©ì€ '{hook}'ì´ í•µì‹¬ ìœ ì „ìì…ë‹ˆë‹¤. ê·¸ë˜ì„œ {name} íƒ€ì…: ìƒëŒ€ê°€ ëŒ€ë¹„ë¥¼ í•´ë„ ì´ìƒí•˜ê²Œ ëš«ë¦½ë‹ˆë‹¤.",
          "{name} DNAëŠ” {hook}ì— íˆ¬ìí•©ë‹ˆë‹¤. Aì˜ {aKey}ê°€ ê¸°ë°˜ì„ ê¹”ê³ , Bì˜ {bKey}ê°€ ë§ˆì¹¨í‘œë¥¼ ì°ëŠ” êµ¬ì¡°ì˜ˆìš”.",
          "ì´ ì¡°í•©ì€ ì•ˆì •ê° ìœ„ì— ì„íŒ©íŠ¸ë¥¼ ì–¹ìŠµë‹ˆë‹¤. {name}ì²˜ëŸ¼ {hook}ì„(ë¥¼) í•œ ë²ˆ í„°ëœ¨ë¦¬ë©´ ë¶„ìœ„ê¸°ê°€ ë°”ë€ë‹ˆë‹¤.",
        ] : [
          "A's {aKey} + B's {bKey} mix together, so {name}'s '{hook}' comes out strong. Once locked in, goes all the way.",
          "The combo's core gene is '{hook}'. That's why {name} type: strangely breaks through even when opponents prepare.",
          "{name} DNA invests in {hook}. A's {aKey} lays the foundation, B's {bKey} adds the final touch.",
          "This combo layers impact on stability. Like {name}, once {hook} explodes, the atmosphere changes.",
        ];
      }

      function getKeywordsTranslations() {
        const isKo = currentLang === "ko";
        return {
          a: isKo ? [
            "ì§‘ìš”í•¨",
            "ê¾¸ì¤€í•¨",
            "ìŠ¹ë¶€ìš•",
            "ìƒìƒë ¥",
            "ì°¨ë¶„í•¨",
            "í­ë°œë ¥",
            "ì •êµí•¨",
            "ì±…ì„ê°",
            "ê³„íšì„±",
            "ê°ê°",
          ] : [
            "Tenacity",
            "Consistency",
            "Competitiveness",
            "Imagination",
            "Calmness",
            "Explosiveness",
            "Precision",
            "Responsibility",
            "Planning",
            "Sense",
          ],
          b: isKo ? [
            "ì„¼ìŠ¤",
            "ìš©ê¸°",
            "ì—¬ìœ ",
            "ë„ì „ì„±",
            "ìœ ì¾Œí•¨",
            "ìì‹ ê°",
            "ëª°ì…",
            "ë°°ì§±",
            "ìœ ì—°í•¨",
            "ë¦¬ë“¬",
          ] : [
            "Sense",
            "Courage",
            "Ease",
            "Challenge",
            "Cheerfulness",
            "Confidence",
            "Immersion",
            "Guts",
            "Flexibility",
            "Rhythm",
          ],
          hook: isKo ? [
            "ê²°ì •ë ¥",
            "ì‹œì•¼",
            "ë“œë¦¬ë¸”",
            "ê°€ì†",
            "ë©˜íƒˆ",
            "íŒ¨ìŠ¤",
            "ì¤‘ê±°ë¦¬",
            "ì••ë°• íƒˆì¶œ",
            "ê³µê°„ ì¹¨íˆ¬",
            "ì„¸íŠ¸í”¼ìŠ¤",
          ] : [
            "Finishing",
            "Vision",
            "Dribble",
            "Acceleration",
            "Mentality",
            "Pass",
            "Long range",
            "Press escape",
            "Space penetration",
            "Set pieces",
          ],
        };
      }

      // ---------- Player Dataset (lightweight, no DB) ----------
      // Note: For fun only. Names are used as "types".
      const PLAYERS = [
        {
          name: "Lionel Messi",
          nation: "Argentina",
          pos: "AMF / RW",
          styleKo: "ì´ˆê·¼ì ‘ ë“œë¦¬ë¸” + í…œí¬ ì¡°ì ˆë¡œ ê²½ê¸° ë§¥ì„ ë½‘ì•„ë¨¹ëŠ” íƒ€ì…",
          styleEn: "Ultra-close dribbling + tempo control type that dominates the game",
          tags: ["GOAT Aura", "Tight Dribble", "Game Control"],
        },
        {
          name: "Cristiano Ronaldo",
          nation: "Portugal",
          pos: "ST / LW",
          style: "ê²°ì •ë ¥Â·ì§‘ë…Â·í”¼ì§€ì»¬ë¡œ ëª¨ë“  ê±¸ ë°€ì–´ë¶™ì´ëŠ” ì—”ì§„í˜•",
          tags: ["Finisher", "Air Threat", "Mentality"],
        },
        {
          name: "Kevin De Bruyne",
          nation: "Belgium",
          pos: "CM / AMF",
          style: "ì‹œì•¼ë¡œ ë¨¼ì € ë„ì°©í•˜ëŠ” íŒ¨ìŠ¤. í•œ ë²ˆ ì—´ë©´ ëê¹Œì§€ ì—°ë‹¤",
          tags: ["Through Ball", "Vision", "Tempo"],
        },
        {
          name: "Kylian MbappÃ©",
          nation: "France",
          pos: "ST / LW",
          style: "ìˆœê°„ê°€ì†ìœ¼ë¡œ ìˆ˜ë¹„ ë¼ì¸ì„ ì°¢ê³  ë“¤ì–´ê°€ëŠ” ì†ë„í˜•",
          tags: ["Pace", "Channel Run", "Clinical"],
        },
        {
          name: "Erling Haaland",
          nation: "Norway",
          pos: "ST",
          style: "ë°•ìŠ¤ ì•ˆì—ì„œ ëë‚´ëŠ” â€˜ê³µì¥í˜• ë“ì ê¸°â€™",
          tags: ["Box Monster", "Strength", "One Touch"],
        },
        {
          name: "Neymar",
          nation: "Brazil",
          pos: "LW / AMF",
          style: "ê¸°ìˆ ë¡œ ë¶„ìœ„ê¸° ì¥ì•… + ì‡¼ë§¨ì‹­ í•œ ìŠ¤í‘¼",
          tags: ["Skill Moves", "Flair", "Unpredictable"],
        },
        {
          name: "Mohamed Salah",
          nation: "Egypt",
          pos: "RW / ST",
          style: "ì—­ìŠµì—ì„œ ê°€ì¥ ë¬´ì„œìš´ ì»·ì¸ í”¼ë‹ˆì…”",
          tags: ["Cut Inside", "Counter", "Composure"],
        },
        {
          name: "Son Heung-min",
          nation: "Korea",
          pos: "LW / ST",
          style: "ì–‘ë°œ ê²°ì •ë ¥ + ê³µê°„ ì¹¨íˆ¬ê°€ ê¹”ë”í•œ â€˜íš¨ìœ¨ ëíŒì™•â€™",
          tags: ["Two-footed", "Finishing", "Runs"],
        },
        {
          name: "Harry Kane",
          nation: "England",
          pos: "ST",
          style: "ë“ì ë„ í•˜ê³  ë¹Œë“œì—…ë„ í•˜ëŠ” ë§ŒëŠ¥ ìŠ¤íŠ¸ë¼ì´ì»¤",
          tags: ["Playmaking 9", "Finishing", "Hold-up"],
        },
        {
          name: "Robert Lewandowski",
          nation: "Poland",
          pos: "ST",
          style: "ê¸°ë³¸ê¸°Â·í¬ì§€ì…”ë‹Â·ê²°ì •ë ¥ 3ë°•ì ì •ì„",
          tags: ["Positioning", "Clinical", "Consistency"],
        },
        {
          name: "Virgil van Dijk",
          nation: "Netherlands",
          pos: "CB",
          style: "ìƒëŒ€ ê³µê²©ì„ â€˜ì •ë¦¬â€™í•˜ëŠ” ì•ˆì •ê°ì˜ ìƒì§•",
          tags: ["Aerial", "Calm", "Dominance"],
        },
        {
          name: "Sergio Ramos",
          nation: "Spain",
          pos: "CB",
          style: "ê²°ì •ì  ìˆœê°„ì— ë‚˜íƒ€ë‚˜ëŠ” ê³µê²©í˜• ìˆ˜ë¹„ ë¦¬ë”",
          tags: ["Leadership", "Big Game", "Aggressive"],
        },
        {
          name: "RÃºben Dias",
          nation: "Portugal",
          pos: "CB",
          style: "ë¼ì¸ì„ ì¡ê³  íŒ€ì„ ì§€íœ˜í•˜ëŠ” ì¡°ì§í˜• ì„¼í„°ë°±",
          tags: ["Organizer", "Tackling", "Command"],
        },
        {
          name: "Jude Bellingham",
          nation: "England",
          pos: "CM / AMF",
          style: "ë°•ìŠ¤ íˆ¬ ë°•ìŠ¤ë¡œ ë¶„ìœ„ê¸° ë°”ê¾¸ëŠ” â€˜ìƒˆ ì—ì´ìŠ¤â€™ íƒ€ì…",
          tags: ["Box-to-Box", "Clutch", "Energy"],
        },
        {
          name: "Rodri",
          nation: "Spain",
          pos: "DM",
          style: "ê²Œì„ì„ ëŠë¦¬ê²Œ/ë¹ ë¥´ê²Œ ì¡°ì ˆí•˜ëŠ” ë¯¸ë“œí•„ë“œì˜ ê¸°ì¤€ì ",
          tags: ["Control", "Shield", "Simple"],
        },
        {
          name: "Luka ModriÄ‡",
          nation: "Croatia",
          pos: "CM",
          style: "ë¦¬ë“¬ê³¼ ë°©í–¥ì„ ë°”ê¾¸ëŠ” ë§ˆì—ìŠ¤íŠ¸ë¡œ",
          tags: ["Outside Foot", "Press Resist", "Maestro"],
        },
        {
          name: "Toni Kroos",
          nation: "Germany",
          pos: "CM",
          style: "ì •í™•ë„ë¡œ ìƒëŒ€ ì²´ë ¥ì„ ê°‰ì•„ë¨¹ëŠ” íŒ¨ìŠ¤ ë¨¸ì‹ ",
          tags: ["Accuracy", "Switch", "Metronome"],
        },
        {
          name: "Pedri",
          nation: "Spain",
          pos: "CM / AMF",
          style: "ì‘ì€ í„°ì¹˜ë¡œ í° ê³µê°„ì„ ë§Œë“œëŠ” ì¡°ìš©í•œ ì²œì¬í˜•",
          tags: ["First Touch", "IQ", "Smooth"],
        },
        {
          name: "Xavi",
          nation: "Spain",
          pos: "CM",
          style: "í•œ ë²ˆì— í•œ ì¹¸ì”© â€˜ì´ê¸°ëŠ” ë£¨íŠ¸â€™ë¡œ ëŒê³  ê°€ëŠ” íƒ€ì…",
          tags: ["Tiki-taka", "Control", "Angles"],
        },
        {
          name: "AndrÃ©s Iniesta",
          nation: "Spain",
          pos: "CM / AMF",
          style: "í° ê²½ê¸°ì—ì„œ ì¡°ìš©íˆ í•œ ë²ˆì— ëë‚´ëŠ” ì˜ˆìˆ ê°€",
          tags: ["Big Moment", "Dribble", "Calm"],
        },
        {
          name: "Zinedine Zidane",
          nation: "France",
          pos: "AMF",
          style: "ìš°ì•„í•¨ìœ¼ë¡œ ê²½ê¸° ë‚œì´ë„ë¥¼ ë‚®ì¶”ëŠ” ì „ì„¤í˜•",
          tags: ["Elegance", "Technique", "Aura"],
        },
        {
          name: "Ronaldinho",
          nation: "Brazil",
          pos: "LW / AMF",
          style: "ì‚¬ëŒì„ ì›ƒê¸°ë©´ì„œ ì´ê¸°ëŠ” ë§ˆìˆ ì‚¬",
          tags: ["Joy", "Flair", "Magic"],
        },
        {
          name: "Ronaldo NazÃ¡rio",
          nation: "Brazil",
          pos: "ST",
          style: "ì²« ê±¸ìŒì—ì„œ ìŠ¹ë¶€ê°€ ëë‚˜ëŠ” í­ë°œí˜• ìŠ¤íŠ¸ë¼ì´ì»¤",
          tags: ["Burst", "Dribble", "Finisher"],
        },
        {
          name: "Thierry Henry",
          nation: "France",
          pos: "ST / LW",
          style: "ë¯¸ë‹ˆë©€ ë™ì‘ìœ¼ë¡œ ìµœëŒ€ íš¨ìœ¨ì„ ë½‘ëŠ” í´ë˜ì‹ í‚¬ëŸ¬",
          tags: ["Efficiency", "Cut", "Composure"],
        },
        {
          name: "Didier Drogba",
          nation: "CÃ´te d'Ivoire",
          pos: "ST",
          style: "í° ê²½ê¸°ì—ì„œ ë²„í‹°ê³  ë¶€ìˆ˜ëŠ” â€˜ë³´ìŠ¤ëª¹â€™",
          tags: ["Big Game", "Hold-up", "Power"],
        },
        {
          name: "Andrea Pirlo",
          nation: "Italy",
          pos: "CM / DM",
          style: "í•œ ë²ˆì˜ íŒ¨ìŠ¤ë¡œ ì„¸ê³„ê´€ì„ ë°”ê¾¸ëŠ” ë¡±íŒ¨ìŠ¤ ì¥ì¸",
          tags: ["Long Pass", "Set Piece", "Calm"],
        },
        {
          name: "Gianluigi Buffon",
          nation: "Italy",
          pos: "GK",
          style: "íŒ€ ë©˜íƒˆê¹Œì§€ ë§‰ì•„ì£¼ëŠ” ë ˆì „ë“œ ìˆ˜ë¬¸ì¥",
          tags: ["Reflex", "Leadership", "Longevity"],
        },
        {
          name: "Manuel Neuer",
          nation: "Germany",
          pos: "GK",
          style: "ê³¨í‚¤í¼ì¸ë° ì‚¬ì‹¤ìƒ ìŠ¤ìœ„í¼. ë¼ì¸ì„ ì§€ìš´ë‹¤",
          tags: ["Sweeper GK", "Bravery", "Play"],
        },
        {
          name: "Iker Casillas",
          nation: "Spain",
          pos: "GK",
          style: "ë°˜ì‚¬ì‹ ê²½ìœ¼ë¡œ ê²Œì„ì„ ì‚´ë¦¬ëŠ” â€˜ìˆœê°„ì˜ ì˜ì›…â€™",
          tags: ["Reflex", "Clutch", "Shot Stop"],
        },
        {
          name: "Marcelo",
          nation: "Brazil",
          pos: "LB",
          style: "ìˆ˜ë¹„ìˆ˜ì¸ë° ê³µê²©ìˆ˜ì²˜ëŸ¼ ë…¼ë‹¤. ì¸¡ë©´ì˜ ì˜ˆìˆ ",
          tags: ["Overlap", "Skill", "Playmaker"],
        },
        {
          name: "Dani Alves",
          nation: "Brazil",
          pos: "RB",
          style: "ê²½ê¸°ë¥¼ ë„“íˆëŠ” ì™•ì„±í•œ í™œë™ëŸ‰ + í¬ë¡œìŠ¤",
          tags: ["Work Rate", "Cross", "Width"],
        },
        {
          name: "Trent Alexander-Arnold",
          nation: "England",
          pos: "RB / CM",
          style: "ì˜¤ë¥¸ìª½ì—ì„œ íŒ¨ìŠ¤ë¡œ ê²½ê¸° ì„¤ê³„í•˜ëŠ” íƒ€ì…",
          tags: ["Playmaking", "Cross", "Vision"],
        },
        {
          name: "Achraf Hakimi",
          nation: "Morocco",
          pos: "RB / RWB",
          style: "ì¸¡ë©´ ê°€ì†ìœ¼ë¡œ ê³µê°„ì„ ì°¢ëŠ” ìŠ¤í”„ë¦°í„°",
          tags: ["Pace", "Overlap", "Direct"],
        },
        {
          name: "N'Golo KantÃ©",
          nation: "France",
          pos: "DM",
          style: "ìƒëŒ€ ê³µì„ â€˜ì—†ë˜ ì¼â€™ë¡œ ë§Œë“œëŠ” ì²­ì†Œê¸°",
          tags: ["Ball Win", "Engine", "Humble"],
        },
        {
          name: "Casemiro",
          nation: "Brazil",
          pos: "DM",
          style: "ê²½ê¸° íë¦„ ëŠê³  íŒ€ì„ ì§€í‚¤ëŠ” ë°©íŒ¨í˜•",
          tags: ["Shield", "Duels", "Grit"],
        },
        {
          name: "Sadio ManÃ©",
          nation: "Senegal",
          pos: "LW / ST",
          style: "ì§ì„  ì¹¨íˆ¬ + ì••ë°•ìœ¼ë¡œ ê²½ê¸° ì˜¨ë„ ì˜¬ë¦¬ëŠ” íƒ€ì…",
          tags: ["Pressing", "Direct", "Runs"],
        },
        {
          name: "VinÃ­cius JÃºnior",
          nation: "Brazil",
          pos: "LW",
          style: "1ëŒ€1ì—ì„œ ìƒëŒ€ ë©˜íƒˆì„ ë…¹ì´ëŠ” ë“œë¦¬ë¸”ëŸ¬",
          tags: ["1v1", "Flair", "Acceleration"],
        },
        {
          name: "Bukayo Saka",
          nation: "England",
          pos: "RW",
          style: "ì•ˆì •ê°+ê²°ì •ë ¥ìœ¼ë¡œ ì„±ì¥í•˜ëŠ” â€˜íŒ€ì˜ ë¯¸ë˜â€™",
          tags: ["Consistency", "Composed", "Versatile"],
        },
        {
          name: "Bernardo Silva",
          nation: "Portugal",
          pos: "AMF / RW",
          style: "ì‰´ ìƒˆ ì—†ì´ ëŒë©´ì„œ ì••ë°•ì„ ì´ê¸°ëŠ” í…Œí¬ë‹ˆì…˜",
          tags: ["Press Resist", "Dribble", "Work Rate"],
        },
        {
          name: "Antoine Griezmann",
          nation: "France",
          pos: "SS / AMF",
          style: "ì—°ê²°Â·ì••ë°•Â·ê²°ì •ë ¥ ë‹¤ í•˜ëŠ” ë˜‘ë˜‘í•œ í”Œë ˆì´ì–´",
          tags: ["Link-up", "Smart Runs", "Clutch"],
        },
        {
          name: "Paulo Dybala",
          nation: "Argentina",
          pos: "AMF / SS",
          style: "ì™¼ë°œë¡œ ê°ì„ ë§Œë“¤ì–´ â€˜ì˜ˆì˜ê²Œâ€™ ëë‚´ëŠ” íƒ€ì…",
          tags: ["Left Foot", "Curve", "Technique"],
        },
        {
          name: "Marco Reus",
          nation: "Germany",
          pos: "AMF / LW",
          style: "ë¶€ë“œëŸ¬ìš´ í„°ì¹˜ë¡œ ì°¬ìŠ¤ ë§Œë“œëŠ” ê°ì„±í˜•",
          tags: ["Smooth", "Finishing", "Movement"],
        },
        {
          name: "Gareth Bale",
          nation: "Wales",
          pos: "RW / LW",
          style: "ìŠ¤í”¼ë“œÂ·íŒŒì›ŒÂ·ì™¼ë°œ ì¤‘ê±°ë¦¬ë¡œ í•œ ë°©",
          tags: ["Power", "Pace", "Big Shot"],
        },
        {
          name: "Xabi Alonso",
          nation: "Spain",
          pos: "CM / DM",
          style: "ê²½ê¸° ì „ì²´ë¥¼ ìœ„ì—ì„œ ë‚´ë ¤ë‹¤ë³´ëŠ” ë°°ê¸‰í˜•",
          tags: ["Distribution", "Calm", "Switch"],
        },
        {
          name: "Francesco Totti",
          nation: "Italy",
          pos: "SS / AMF",
          style: "í•œ íŒ€ì—ì„œ ì™•ì²˜ëŸ¼ êµ°ë¦¼í•˜ëŠ” í”Œë ˆì´ë©”ì´ì»¤",
          tags: ["Loyalty", "Vision", "Finishing"],
        },
        {
          name: "Steven Gerrard",
          nation: "England",
          pos: "CM",
          style: "ì¤‘ê±°ë¦¬ í•œ ë°© + ë¦¬ë”ì‹­ìœ¼ë¡œ íŒ€ ëŒê³  ê°€ëŠ” íƒ€ì…",
          tags: ["Long Shot", "Leader", "Drive"],
        },
        {
          name: "Frank Lampard",
          nation: "England",
          pos: "CM",
          style: "ë°•ìŠ¤ ì¹¨íˆ¬ë¡œ ë“ì  ìƒì‚°í•˜ëŠ” ë¯¸ë“œí•„ë”",
          tags: ["Late Runs", "Goals", "Timing"],
        },
        {
          name: "Paul Scholes",
          nation: "England",
          pos: "CM",
          style: "ì§§ê³  ë¹ ë¥´ê²Œ, ê·¸ë¦¬ê³  ë¡±íŒ¨ìŠ¤ë¡œ ë",
          tags: ["Passing", "Tempo", "Range"],
        },
        {
          name: "David Beckham",
          nation: "England",
          pos: "RM / CM",
          style: "í”„ë¦¬í‚¥Â·í¬ë¡œìŠ¤ë¡œ ê°ì„ ìƒˆê¸°ëŠ” â€˜ì •ë°€ê¸°ê³„â€™",
          tags: ["Set Piece", "Cross", "Precision"],
        },
      ];


      // ---------- Pixabay API ----------
      const PIXABAY_KEY = "53710884-8cf25255c451e1da9731736f6";

      async function loadPlayerImage(playerName, imgElement, altText) {
        try {
          const url = new URL("https://pixabay.com/api/");
          url.searchParams.set("key", PIXABAY_KEY);
          // ì„ ìˆ˜ ì´ë¦„ë§Œ ê²€ìƒ‰ ì¿¼ë¦¬ì— ì‚¬ìš©
          url.searchParams.set("q", playerName);
          url.searchParams.set("image_type", "photo");
          url.searchParams.set("orientation", "horizontal");
          url.searchParams.set("safesearch", "true");
          url.searchParams.set("lang", "en");
          url.searchParams.set("per_page", "6");
          console.log("[image search]", playerName, url.toString());

          const res = await fetch(url);
          if (!res.ok) throw new Error("Pixabay request failed");
          const data = await res.json();
          const hit = (data.hits || [])[0];

          if (hit && hit.webformatURL) {
            imgElement.src = hit.webformatURL;
            imgElement.alt = altText || `${playerName} ì´ë¯¸ì§€`;
          } else {
            // ì´ë¯¸ì§€ë¥¼ ì°¾ì§€ ëª»í•œ ê²½ìš° placeholder ì‚¬ìš©
            imgElement.src = `https://dummyimage.com/900x675/1e293b/ffffff&text=${encodeURIComponent(
              playerName
            )}`;
            imgElement.alt = altText || `${playerName} Type`;
            console.log("[image search] ì´ë¯¸ì§€ë¥¼ ì°¾ì§€ ëª»í•¨:", playerName);
          }
        } catch (err) {
          console.error("ì´ë¯¸ì§€ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:", err);
          // ì‹¤íŒ¨ ì‹œ placeholder ì‚¬ìš©
          imgElement.src = `https://dummyimage.com/900x675/1e293b/ffffff&text=${encodeURIComponent(
            playerName
          )}`;
          imgElement.alt = altText || `${playerName} Type`;
        }
      }

      // ---------- UI bindings ----------
      const $ = (id) => document.getElementById(id);
      const birthA = $("birthA");
      const birthB = $("birthB");
      const relation = $("relation");
      const goBtn = $("goBtn");
      const resultWrap = $("resultWrap");

      const resultTitle = $("resultTitle");
      const resultSub = $("resultSub");
      const chem = $("chem");
      const pos = $("pos");
      const nation = $("nation");
      const foot = $("foot");
      const weapon = $("weapon");
      const oneLine = $("oneLine");
      const style = $("style");
      const dna = $("dna");
      const tags = $("tags");
      const playerImg = $("playerImg");
      const toast = $("toast");
      const copyBtn = $("copyBtn");
      const shareBtn = $("shareBtn");
      const resultEyebrow = $("resultEyebrow");

      // Relationship buttons
      document.querySelectorAll(".relBtn").forEach((btn) => {
        btn.addEventListener("click", () => {
          document
            .querySelectorAll(".relBtn")
            .forEach((b) =>
              b.classList.remove("ring-2", "ring-emerald-300/60")
            );
          btn.classList.add("ring-2", "ring-emerald-300/60");
          relation.value = btn.dataset.rel || "ê·¸ëƒ¥ ê¶ê¸ˆ";
        });
      });
      // default select
      document
        .querySelector('.relBtn[data-rel="ê·¸ëƒ¥ ê¶ê¸ˆ"]')
        ?.classList.add("ring-2", "ring-emerald-300/60");

      function showToast(msg) {
        toast.textContent = msg;
        toast.classList.remove("hidden");
        setTimeout(() => toast.classList.add("hidden"), 1800);
      }

      function toYMD(d) {
        return (d || "").trim();
      }

      function buildSeed(a, b, rel) {
        const str = `${a}|${b}|${rel}|v1`;
        const seedFn = xmur3(str);
        return seedFn(); // uint32
      }

      function updateURL(a, b, rel, showResult = true) {
        const url = new URL(location.href);
        url.searchParams.set("a", a);
        url.searchParams.set("b", b);
        url.searchParams.set("r", rel);
        if (showResult) {
          url.searchParams.set("result", "true");
        } else {
          url.searchParams.delete("result");
        }
        if (showResult) {
          window.location.href = url.toString();
        } else {
          history.replaceState(null, "", url.toString());
        }
      }

      function makeShareText(res) {
        const t = window.t || ((key, vars = {}) => key);
        const line1 = t("shareTitle");
        const line2 = t("shareResult", { name: res.player.name });
        const line3 = t("sharePosition", { pos: res.player.pos, chem: res.chem });
        const line4 = t("shareOneLine", { oneLine: res.oneLine });
        return `${line1}\n${line2}\n${line3}\n${line4}\n\nğŸ‘‰ ${location.href}`;
      }

      function renderResult(res) {
        const t = window.t || ((key, vars = {}) => key);
        window.lastResult = res;
        resultWrap.classList.remove("hidden");
        resultWrap.classList.add("fade-in");
        
        // ê²°ê³¼ í˜ì´ì§€ ëª¨ë“œ: ì…ë ¥ ì„¹ì…˜ ìˆ¨ê¸°ê¸°
        const url = new URL(location.href);
        if (url.searchParams.get("result") === "true") {
          const inputCard = document.querySelector('.glass.rounded-3xl.p-6');
          if (inputCard && inputCard.closest('section')) {
            inputCard.closest('section').style.display = 'none';
          }
          // í—¤ë”ë„ ê°„ì†Œí™”
          const header = document.querySelector('header');
          if (header) {
            header.style.display = 'none';
          }
        }

        // Translate relation
        const relMap = {
          "ì—°ì¸": t("relationLovers").replace("ğŸ’ ", ""),
          "ì¸": t("relationSome").replace("ğŸ˜¶â€ğŸŒ«ï¸ ", ""),
          "ë¶€ë¶€": t("relationCouple").replace("ğŸ’ ", ""),
          "ê·¸ëƒ¥ ê¶ê¸ˆ": t("relationCurious").replace("ğŸ‘€ ", ""),
        };
        const relText = relMap[res.rel] || res.rel;

        resultEyebrow.textContent = t("resultEyebrowWithRel", { rel: relText });
        resultTitle.textContent = t("resultType", { name: res.player.name });
        resultSub.textContent = `${res.player.nation} Â· ${res.player.pos} Â· "${res.hook}"`;

        chem.textContent = `${res.chem}/100`;
        pos.textContent = res.player.pos;
        nation.textContent = res.player.nation;
        foot.textContent = res.foot;
        weapon.textContent = res.weapon;

        oneLine.textContent = res.oneLine;
        const styleTranslations = getPlayerStyleTranslations();
        style.textContent = styleTranslations[res.player.name] || res.player.styleKo || res.player.styleEn || res.player.style;

        tags.innerHTML = "";
        res.tags.forEach((tag) => {
          const el = document.createElement("span");
          el.className =
            "px-3 py-1 rounded-full bg-white/10 border border-white/10 text-sm";
          el.textContent = tag;
          tags.appendChild(el);
        });

        dna.textContent = res.dna;

        // âœ… í•´ë‹¹ ì„ ìˆ˜ ì–¼êµ´ ì´ë¯¸ì§€ í‘œì‹œ (Pixabay API ì‚¬ìš©)
        loadPlayerImage(res.player.name, playerImg, `${res.player.name} Type`);

        // scroll into view
        resultWrap.scrollIntoView({ behavior: "smooth", block: "start" });
      }

      function generate() {
        const a = toYMD(birthA.value);
        const b = toYMD(birthB.value);
        const rel = relation.value || "ê·¸ëƒ¥ ê¶ê¸ˆ";

        const t = window.t || ((key, vars = {}) => key);
        if (!a || !b) {
          showToast(t("toastInputRequired"));
          return;
        }

        updateURL(a, b, rel, true);

        const seed = buildSeed(a, b, rel);
        const rng = mulberry32(seed);

        const player = PLAYERS[Math.floor(rng() * PLAYERS.length)];
        const chemScore = Math.floor(70 + rng() * 31); // 70~100
        const hooks = getKeywordsTranslations().hook;
        const hook = pick(rng, hooks);
        const onelines = getOnelinesTranslations();
        const one = pick(rng, onelines);
        const foots = getFootTranslations();
        const f = pick(rng, foots);
        const weapons = getWeaponsTranslations();
        const w = pick(rng, weapons);

        const keywords = getKeywordsTranslations();
        const aKey = pick(rng, keywords.a);
        const bKey = pick(rng, keywords.b);
        const dnaTemplates = getDnaTemplatesTranslations();
        const dnaTpl = pick(rng, dnaTemplates);
        const dnaText = dnaTpl
          .replaceAll("{name}", player.name)
          .replaceAll("{hook}", hook)
          .replaceAll("{aKey}", aKey)
          .replaceAll("{bKey}", bKey);

        const extraTags = pickN(
          rng,
          [
            "Clutch",
            "Calm",
            "Chaos",
            "High IQ",
            "Big Game",
            "Work Rate",
            "Ice Cold",
            "Street Ball",
            "Machine",
            "Artist",
            "Captain",
            "Counter",
          ],
          2
        );

        const res = {
          a,
          b,
          rel,
          player,
          chem: chemScore,
          hook,
          oneLine: one,
          foot: f,
          weapon: w,
          tags: [...(player.tags || []).slice(0, 2), ...extraTags],
          dna: dnaText,
          imgSeed: `football-${player.name
            .replace(/\s+/g, "-")
            .toLowerCase()}-${seed}`,
        };

        renderResult(res);

        // bind copy/share with this result
        const shareText = makeShareText(res);

        copyBtn.onclick = async () => {
          try {
            await navigator.clipboard.writeText(shareText);
            showToast(t("toastCopySuccess"));
          } catch {
            // fallback
            const ta = document.createElement("textarea");
            ta.value = shareText;
            document.body.appendChild(ta);
            ta.select();
            document.execCommand("copy");
            ta.remove();
            showToast(t("toastCopySuccessFallback"));
          }
        };

        shareBtn.onclick = async () => {
          const url = location.href;
          if (navigator.share) {
            try {
              await navigator.share({
                title: t("shareTitle"),
                text: shareText,
                url,
              });
            } catch {
              // user canceled
            }
          } else {
            try {
              await navigator.clipboard.writeText(url);
              showToast(t("toastShareLinkCopied"));
            } catch {
              showToast(t("toastShareNotSupported"));
            }
          }
        };
      }

      goBtn.addEventListener("click", generate);

      // Enter-to-run
      [birthA, birthB].forEach((inp) =>
        inp.addEventListener("keydown", (e) => {
          if (e.key === "Enter") generate();
        })
      );

      // Auto-run from query params
      (function initFromURL() {
        $("y").textContent = new Date().getFullYear();
        const url = new URL(location.href);
        const a = url.searchParams.get("a");
        const b = url.searchParams.get("b");
        const r = url.searchParams.get("r");
        const showResult = url.searchParams.get("result") === "true";
        
        if (a) birthA.value = a;
        if (b) birthB.value = b;
        if (r) relation.value = r;

        // highlight relation if matches
        if (r) {
          document
            .querySelectorAll(".relBtn")
            .forEach((b) =>
              b.classList.remove("ring-2", "ring-emerald-300/60")
            );
          const btn = document.querySelector(
            `.relBtn[data-rel="${CSS.escape(r)}"]`
          );
          btn?.classList.add("ring-2", "ring-emerald-300/60");
        }

        if (a && b) {
          // auto-generate if shared link
          setTimeout(() => {
            generate();
            // ê²°ê³¼ í˜ì´ì§€ ëª¨ë“œì—ì„œëŠ” URL ì—…ë°ì´íŠ¸ ì‹œ result íŒŒë¼ë¯¸í„° ìœ ì§€
            if (showResult) {
              updateURL(a, b, r || "ê·¸ëƒ¥ ê¶ê¸ˆ", true);
            }
          }, 120);
        }
      })();
    </script>
</body>
</html>
